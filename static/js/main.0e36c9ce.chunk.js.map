{"version":3,"sources":["logo.svg","requests.js","PostButtons.js","Post.js","App.js","TextChooser.js","TimeChooser.js","TagChooser.js","PeopleChooser.js","LocationMap.js","CreatePost.js","EditPost.js","reportWebVitals.js","postory_logo_no_text.png","SearchBar.js","magnify_icon.png","TopBar.js","menu_icon.png","globe_icon.png","home_icon.png","DiscoverPage.js","SignIn.js","SignUp.js","ViewPost.js","ForgotPassword.js","ForgotPasswordConfirm.js","Activation.js","ProfilePage.js","Redirector.js","index.js"],"names":["BACKEND_URL","post_jwt","url","body_json","startsWith","substring","fetch","method","headers","localStorage","getItem","body","JSON","stringify","get_jwt","params_json","params","URLSearchParams","toString","LikeButton","props","updateLikeNumber","console","log","state","userID","id","requests","then","response","json","data","likeList","length","setTimeout","setState","likeCount","liked","iconPath","mdiCardsHeartOutline","mdiCardsHeart","this","i","class","path","size","onClick","React","Component","VerticalSeperator","mdiDragVerticalVariant","PostButtons","showPopup","popupState","closePopup","to","mdiCommentTextOutline","mdiShareVariantOutline","mdiBookmarkOutline","mdiAlertCircleOutline","Snackbar","open","autoHideDuration","onClose","Alert","severity","sx","width","Post","PostUpper","contentSmall","story","slice","continueReading","getMoreContent","bind","newState","Container","Row","style","alignItems","Col","sm","owner","textDecoration","color","height","src","userPhoto","margin","username","mdiPencilOutline","title","locations","filter","obj","map","Badge","pill","bg","fontSize","mdiMapMarker","year","text","mdiClockTimeEight","tags","mdiTag","fontWeight","preview","URL","createObjectURL","images","App","dummyPost","storyDate","posts","push","resp","parse","sort","a","b","parseInt","catch","er","className","fetched","variant","mdiPencilPlusOutline","TextChooser","parentHandler","sendParent","getEditInfo","info","htmlFor","value","type","onChange","e","target","TimeChooser","startYear","endYear","startMonth","endMonth","startDay","endDay","startTime","endTime","month","day","hour","startHour","endHour","minute","startMinute","endMinute","display","flexDirection","gap","min","max","step","TagChooser","onChangeValue","event","clearAllSelectedTags","selectedTags","removeTag","item","j","addTagToSelectedTags","concat","disabled","index","PeopleChooser","clearAllSelectedPeople","selectedPeople","removePeople","addTagToSelectedPeople","mdiPlus","MapComponent","withScriptjs","withGoogleMap","useState","markers","setMarkers","tooManyMarkers","setTooManyMarkers","useEffect","editLocations","setAllMarkers","defaultZoom","defaultCenter","lat","lng","latLng","setParentLocation","draggable","onDragEnd","t","coord","options","icon","position","LocationChooser","setLocations","selectedLocations","mapRef","createRef","edit","name","longitude","latitude","key","process","REACT_APP_GOOGLE_API_KEY","isMarkerShown","googleMapURL","loadingElement","containerElement","mapElement","CreatePost","refStory","refLocation","refTime","refTags","allRefs","selected","postData","textChooser","locationChooser","timeChooser","startDate","tagChooser","imageComponent","handleChildObjectSend","select","sendToBackend","handleSuccessClose","handleInfoClose","prepareObjectToSend","whichComponent","childObj","infoDict","newObj","success","addedInformation","objectToSend","object","formData","Object","keys","reduce","includes","append","el","FormData","at_least_one","File","set","res","status","creationError","err","ref","postObject","current","mdiSend","ImageComponent","handleFileChange","files","accept","multiple","PostPreviewComponent","current_state","EditPost","window","location","href","idx","search","getAll","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","itemStyleLeft","float","padding","boxSizing","border","itemStyleRight","backgroundColor","imageStyle","maxHeight","maxWidth","SearchBar","placeholder","topBarStyle","marginLeft","marginRight","textStyle","fontFamily","TopBar","postoryLogoNoText","alt","ariant","MyMapComponent","setPosts","selectedPost","setSelectedPost","currentLocation","setCurrentLocation","setDisplayPost","clickCount","setClickCount","displayInfoBox","setDisplayInfoBox","markerList","defaultPosition","closeBoxURL","enableEventPropagation","opacity","fontColor","fontStyle","redirect","mdiGestureTap","newPost","onClickMarker","DiscoverPage","innerHeight","innerWidth","SignIn","email","password","incorrect","completed","handleButtonClick","Math","floor","refresh","access","setItem","decoded","jwt_decode","user_id","str","test","isEmail","getUsernameProblem","getPasswordProblem","SignUp","surname","password1","password2","re_password","removeItem","ViewPost","api_key","undefined","post","comments","Comment","userName","userProfilePic","CommentContainer","currentUserName","textChange","sendComment","st","comment","SliderComponent","curIdx","setCurIdx","mdiArrowLeftThick","mdiArrowRightThick","hostname","ForgotPassword","ForgotPasswordConfirm","uid","match","token","new_password","re_new_password","Activation","activationCompleted","pathname","split","BACKEND_IP","ProfilePageUpper","followingCount","setFollowingCount","followerCount","setFollowerCount","postCount","setPostCount","userPosts","setUserPosts","fetchedPosts","setFetchedPosts","showFollowButton","setShowFollowButton","setUserID","sessionUserID","setSessionUserID","setUsername","setPopupState","photo","setPhoto","profilePhoto","setProfilePhoto","followedUsers","followerUsers","Button","Redirector","hasJWT","ReactDOM","render","element","document","getElementById"],"mappings":"iuBAAe,I,yDCATA,EAAc,0BAgBb,SAASC,EAASC,EAAKC,GAK1B,OAJID,EAAIE,WAAW,OACfF,EAAMA,EAAIG,UAAU,IAGjBC,MAAM,GAAD,OAAIN,EAAJ,YAAmBE,GAAO,CAClCK,OAAQ,OACRC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,YAEjDC,KAAMC,KAAKC,UAAUV,KAiFtB,SAASW,EAAQZ,EAAKa,GACrBb,EAAIE,WAAW,OACfF,EAAMA,EAAIG,UAAU,IAGxB,IAAMW,EAAS,IAAIC,gBAAgBF,GAAaG,WAEhD,OAAOZ,MAAM,GAAD,OAAIN,EAAJ,YAAmBE,GAAnB,OAAyBc,GAAU,CAC3CT,OAAQ,MACRC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,c,WC3GnDS,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA0BRC,iBAAmB,WACjBC,QAAQC,IAAI,EAAKC,MAAMC,QACvBH,QAAQC,IAAI,EAAKC,MAAME,IAUvBC,EAAA,yBAAoC,EAAKH,MAAME,IAAK,IAAIE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UACjFF,MAAM,SAACG,GACN,IAAIC,EAAWD,EAAKC,SACpBV,QAAQC,IAAIQ,GACZT,QAAQC,IAAIS,EAASC,QACrBC,YAAW,WAAO,EAAKC,SAAS,CAACC,UAAWL,EAAKC,SAASC,WAAW,KAChE,EAAKT,MAAMa,MAGdH,YAAW,WAAO,EAAKC,SAAS,CAACE,OAAO,EAAOC,SAAUC,QAAyB,KAFlFL,YAAW,WAAO,EAAKC,SAAS,CAACE,OAAO,EAAMC,SAAUE,QAAkB,SA5C9E,EAAKhB,MAAL,2BACOJ,GADP,IAEIiB,OAAO,EACPD,UAAWhB,EAAMY,SAAWZ,EAAMY,SAASC,OAAQ,EACnDR,OAAQhB,aAAaC,QAAQ,UAC7B4B,SAAUC,MAPG,E,qDAYnB,WAAqB,IAAD,OAClB,GAAGE,KAAKjB,MAAMQ,SAAS,CACvB,IAAI,IAAIU,EAAI,EAAGA,EAAID,KAAKjB,MAAMQ,SAASC,OAAQS,IAAK,CAClCD,KAAKjB,MAAMQ,SAASU,GACtB,IAAMD,KAAKjB,MAAMC,QAE7BgB,KAAKN,SAAS,CAACE,OAAO,EAAMC,SAAUE,MAG1CN,YAAW,WAAOZ,QAAQC,IAAI,EAAKC,MAAMa,SAAS,Q,oBAgCpD,WACE,OACE,sBAAKM,MAAO,OAAZ,UACE,cAAC,IAAD,CACEC,KAAMH,KAAKjB,MAAMc,SACjBO,KAAM,EACNC,QAASL,KAAKpB,mBAEhB,8BACGoB,KAAKjB,MAAMY,mB,GA/DGW,IAAMC,WAsE/B,SAASC,IACL,OACI,8BACE,cAAC,IAAD,CAAML,KAAMM,IAAwBL,KAAM,M,IAqErCM,E,kDA/Db,WAAY/B,GAAO,IAAD,8BAChB,cAAMA,IASRgC,UAAY,WACV,EAAKjB,SAAS,CAAEkB,YAAY,KAXZ,EAclBC,WAAa,WACX,EAAKnB,SAAS,CAAEkB,YAAY,KAZ5B,EAAK7B,MAAL,2BACKJ,GADL,IAEEiC,YAAY,IAEd/B,QAAQC,IAAI,EAAKC,OAPD,E,0CAkBlB,WACE,OACE,gCACE,sBAAKmB,MAAO,OAAZ,UACE,cAAC,EAAD,eAAgBF,KAAKrB,QACrB,cAAC6B,EAAD,IACCR,KAAKrB,MAAMM,GACZ,cAAC,IAAD,CAAMiB,MAAQ,OAAOY,GAAE,uBAAmBd,KAAKjB,MAAME,IAArD,SACA,cAAC,IAAD,CACEkB,KAAMY,IACNX,KAAM,MAEE,cAAC,IAAD,CACRD,KAAMY,IACNX,KAAM,IAER,cAACI,EAAD,IACA,cAAC,IAAD,CACEL,KAAMa,IACNZ,KAAM,EACNC,QAASL,KAAKW,YAEhB,cAACH,EAAD,IACA,cAAC,IAAD,CACEL,KAAMc,IACNb,KAAM,EACNC,QAASL,KAAKW,YAEhB,cAACH,EAAD,IACA,cAAC,IAAD,CACEL,KAAMe,IACNd,KAAM,EACNC,QAASL,KAAKW,eAGlB,cAACQ,EAAA,EAAD,CAAUC,KAAMpB,KAAKjB,MAAM6B,WAAYS,iBAAkB,IAAMC,QAAStB,KAAKa,WAA7E,SACI,cAACU,EAAA,EAAD,CAAOD,QAAStB,KAAKa,WAAYW,SAAS,OAAOC,GAAI,CAAEC,MAAO,QAA9D,yG,GAvDcpB,IAAMC,W,mCCjF1BoB,E,kDACF,WAAYhD,GAAO,IAAD,8BAChB,cAAMA,IACDA,MAAQA,EAFG,E,0CAIlB,WACE,OAAQ,sBAAKuB,MAAO,OAAZ,UAAoB,cAAC,EAAD,eAAeF,KAAKrB,QAAxC,IAAiD,cAAC,EAAD,eAAiBqB,KAAKrB,e,GANlE2B,IAAMC,WAUnBqB,E,kDACJ,WAAYjD,GAAO,IAAD,8BAChB,cAAMA,IAEDI,MAAL,2BACKJ,GADL,IAEEkD,aAAgBlD,EAAMmD,OAASnD,EAAMmD,MAAMtC,OAAS,IAAOb,EAAMmD,MAAMC,MAAM,EAAE,KAAMpD,EAAMmD,MAC3FE,gBAAkBrD,EAAMmD,OAASnD,EAAMmD,MAAMtC,OAAS,MAExDX,QAAQC,IAAI,EAAKC,OACjB,EAAKkD,eAAiB,EAAKA,eAAeC,KAApB,gBATN,E,kDAYlB,WACElC,KAAKN,UAAS,SAAAX,GAEZ,IAAIoD,EAAQ,eAAOpD,GAGnB,OAFAoD,EAASN,aAAe9C,EAAM+C,MAC9BK,EAASH,iBAAkB,EACpBG,O,oBAIX,WAEE,OACA,eAACC,EAAA,EAAD,WACE,cAACA,EAAA,EAAD,UACA,eAACC,EAAA,EAAD,CAAKC,MAAO,CAACC,WAAW,UAAxB,UACE,cAACC,EAAA,EAAD,CAAKC,GAAI,GAAIH,MAAO,CAACC,WAAW,UAAhC,SACGvC,KAAKjB,MAAM2D,OAAS,eAAC,IAAD,CAAMxC,MAAQ,OAAOY,GAAE,0BAAsBd,KAAKjB,MAAM2D,OAASJ,MAAO,CAAEK,eAAgB,OAAQC,MAAO,QAAzG,UACnB,qBAAK1C,MAAQ,SAASwB,MAAQ,OAAOmB,OAAS,OAAOC,IAAO9C,KAAKrB,MAAMoE,UAAW/C,KAAKrB,MAAMoE,UAAW,qDACxG,mBAAGT,MAAS,CAACU,OAAQ,QAArB,SAA+BhD,KAAKjB,MAAMkE,SAAWjD,KAAKjB,MAAMkE,SAAW,YAG/E,cAACT,EAAA,EAAD,CAAKC,GAAI,EAAT,SACGzC,KAAKjB,MAAM2D,OAAS1E,aAAaC,QAAQ,WAAY+B,KAAKjB,MAAME,IAAM,cAAC,IAAD,CAAMiB,MAAQ,OAAOY,GAAE,uBAAmBd,KAAKjB,MAAME,IAArD,SACrE,cAAC,IAAD,CAAMkB,KAAM+C,IACVC,MAAM,YACN/C,KAAM,EACNwC,MAAM,qBAMd,sBAAK1C,MAAO,eAAZ,UAEGF,KAAKjB,MAAMqE,WAAapD,KAAKjB,MAAMqE,UAAUC,QAAO,SAAAC,GAAG,MAAsB,kBAAXA,EAAI,IAA6B,IAAVA,EAAI,MAAUC,KAAI,SAACD,EAAIrD,GAC/G,OACE,eAACuD,EAAA,EAAD,CAAOC,MAAI,EAACC,GAAG,YAAYpB,MAAO,CAAEqB,SAAS,QAA7C,UACE,cAAC,IAAD,CAAMxD,KAAMyD,IACVT,MAAM,WACN/C,KAAM,GACNwC,MAAM,YAEPU,EAAI,SAGVtD,KAAKjB,MAAM8E,MACZ,eAACL,EAAA,EAAD,CAAOC,MAAI,EAACC,GAAG,UAAUpB,MAAO,CAAEqB,SAAS,QAAUG,KAAK,OAA1D,UACE,cAAC,IAAD,CAAM3D,KAAM4D,IACVZ,MAAM,QACN/C,KAAM,GACNwC,MAAM,YAEP5C,KAAKjB,MAAM8E,KAAK,GAChB7D,KAAKjB,MAAM8E,KAAKrE,OAAS,GAAK,IAAMQ,KAAKjB,MAAM8E,KAAK,MAEtD7D,KAAKjB,MAAMiF,MAAQhE,KAAKjB,MAAMiF,KAAKT,KAAI,SAACD,EAAIrD,GAC3C,OACE,eAACuD,EAAA,EAAD,CAAOC,MAAI,EAACC,GAAG,SAASpB,MAAO,CAAEqB,SAAS,QAA1C,UACE,cAAC,IAAD,CAAMxD,KAAM8D,IACVd,MAAM,MACN/C,KAAM,GACNwC,MAAM,YAERU,WAIPtD,KAAKjB,MAAME,IAAM,cAAC,IAAD,CAAMiB,MAAQ,OAAOY,GAAE,uBAAmBd,KAAKjB,MAAME,IAAMqD,MAAO,CAAEK,eAAgB,OAAQC,MAAO,QAAnG,SAClB,mBAAGN,MAAQ,CAACZ,MAAO,QAAQxB,MAAQ,cAAnC,SAAkD,mBAAGoC,MAAO,CAAEqB,SAAS,OAASO,WAAW,QAAzC,SAAoDlE,KAAKjB,MAAMoE,MAAQnD,KAAKjB,MAAMoE,MAAQ,UAE1InD,KAAKjB,MAAME,IAAM,mBAAGqD,MAAQ,CAACZ,MAAO,QAAQxB,MAAQ,cAAnC,SAAkD,mBAAGoC,MAAO,CAAEqB,SAAS,OAASO,WAAW,QAAzC,SAAoDlE,KAAKjB,MAAMoE,MAAQnD,KAAKjB,MAAMoE,MAAQ,OAC/J,mBAAGb,MAAO,CAAEqB,SAAS,QAArB,SAAiC3D,KAAKjB,MAAM8C,aAAc7B,KAAKjB,MAAM8C,aAAe,KACnF7B,KAAKjB,MAAMiD,iBAAmB,mBAAG9B,MAAQ,cAAcG,QAAWL,KAAKiC,eAAzC,SAAyD,uDACxF,sBACA,gCACGjC,KAAKjB,MAAMoF,SAAU,sBAAKjE,MAAQ,aAAb,UACnBF,KAAKjB,MAAMoF,QAAQ3E,OAAS,GAAK,qBAAKkC,MAAQ,QAAQoB,IAAOsB,IAAIC,gBAAgBrE,KAAKjB,MAAMoF,QAAQ,MACpGnE,KAAKjB,MAAMoF,QAAQ3E,OAAS,GAAK,qBAAKkC,MAAQ,QAAQoB,IAAOsB,IAAIC,gBAAgBrE,KAAKjB,MAAMoF,QAAQ,UAErGnE,KAAKjB,MAAMoF,SAAU,sBAAKjE,MAAQ,aAAb,UACrB,qBAAKwB,MAAQ,QAAQoB,IAAQ9C,KAAKjB,MAAMuF,QAAUtE,KAAKjB,MAAMuF,OAAO,GAAMtE,KAAKjB,MAAMuF,OAAO,GAAI,KAChG,qBAAK5C,MAAQ,QAAQoB,IAAQ9C,KAAKjB,MAAMuF,QAAUtE,KAAKjB,MAAMuF,OAAO,IAAMtE,KAAKjB,MAAMuF,OAAO,GAAMtE,KAAKjB,MAAMuF,OAAO,GAAI,kB,GA/F1GhE,IAAMC,WAiJfoB,GA3CSrB,IAAMC,UA2CfoB,GC1FA4C,G,yDA9Db,WAAY5F,GAAO,IAAD,sBAChB,cAAMA,GAKN,IAHA,IAAI6F,EAAY,CAAC1C,MAAQ,m0BAC3BY,MAAQ,eAAgBU,UAAW,CAAC,YAAa,UAAWqB,UAAW,OAAQT,KAAM,CAAC,SAChFU,EAAQ,GACJzE,EAAI,EAAGA,EAAE,GAAGA,IAClByE,EAAMC,KAAKH,GAPG,OAShB,EAAKzF,MAAQ,CACX2F,MAAOA,GAGTxF,EAAiB,gBAAgB,IACjCC,MAAK,SAAAyF,GAAI,OAAIA,EAAKvF,UAAQF,MAAK,SAAAG,GAAI,OAAI,EAAKI,UAAS,SAAAX,GACnD,IACA,IAAIoD,EAAWhE,KAAK0G,MAAM1G,KAAKC,UAAUW,IASzC,OANAO,EAAKwF,MAAK,SAACC,EAAGC,GAAJ,OAAUC,SAASD,EAAE/F,IAAMgG,SAASF,EAAE9F,OAGhDkD,EAASuC,MAAQpF,EACjB6C,EAAQ,SAAc,EAEfA,EACN,SACC,OAAOpD,SAEPmG,OAAM,SAAAC,GAAE,OAAItG,QAAQC,IAAIqG,MA7BZ,E,0CAiClB,WACE,OACE,qBAAKC,UAAU,MAAf,SACE,yBAAQA,UAAU,aAAlB,UACE,wCAGCpF,KAAKjB,MAAMsG,SAAWrF,KAAKjB,MAAM2F,MAAMnB,KAAI,SAACD,EAAKrD,GAChD,OAAO,cAAC,EAAD,eAAoBqD,GAAPrD,MAEtB,cAAC,IAAD,CAAMa,GAAI,cAAcwE,QAAU,KAAlC,SACE,cAAC,IAAD,CAAMpF,MAAQ,kCAAkCC,KAAMoF,IACtDpC,MAAM,gBACN/C,KAAM,EACNwC,MAAM,qB,GAhDAtC,IAAMC,YC0CTiF,G,yDAjDX,WAAY7G,GAAQ,IAAD,8BACf,cAAMA,IACDA,MAAQA,EACb,EAAK8G,cAAgB9G,EAAM8G,cAC3B,EAAKC,WAAa,EAAKA,WAAWxD,KAAhB,gBAClB,EAAKnD,MAAQ,CACToE,MAAO,GACPjF,KAAM,IAGV,EAAKyH,YAAc,EAAKA,YAAYzD,KAAjB,gBAVJ,E,+CAanB,SAAY0D,GACR5F,KAAKN,SAAS,CACVyD,MAAOyC,EAAKzC,MACZjF,KAAM0H,EAAK9D,U,wBAInB,WACI9B,KAAKrB,MAAM8G,cAAc,cAAezF,KAAKjB,S,oBAGjD,WAAU,IAAD,OACL,OACI,sBAAKE,GAAI,kBAAT,UACI,uBAAO4G,QAAS,oBAAqB5G,GAAI,0BAAzC,wBACA,uBAAO6G,MAAS9F,KAAKjB,MAAMoE,MAAO4C,KAAM,OAAQ9G,GAAI,oBAAqB+G,SACrE,SAACC,GACG,EAAKvG,UAAS,SAAAX,GAAK,MAAK,CAACoE,MAAO8C,EAAEC,OAAOJ,MAAO5H,KAAMa,EAAMb,YAGpE,uBAAO2H,QAAS,mBAAoB5G,GAAI,yBAAxC,uBACA,0BAAU6G,MAAS9F,KAAKjB,MAAMb,KAAMe,GAAI,mBAAoB+G,SACxD,SAACC,GACG,EAAKvG,UAAS,SAAAX,GAAK,MAAK,CAACoE,MAAOpE,EAAMoE,MAAOjF,KAAM+H,EAAEC,OAAOJ,oB,GArC1DxF,IAAMC,Y,QCyGjB4F,G,yDAxGX,WAAYxH,GAAQ,IAAD,8BACf,cAAMA,IACDA,MAAQA,EACb,EAAK8G,cAAgB9G,EAAM8G,cAC3B,EAAKC,WAAa,EAAKA,WAAWxD,KAAhB,gBAClB,EAAKnD,MAAQ,CACTqH,UAAW,KACXC,QAAS,KACTC,WAAY,KACZC,SAAU,KACVC,SAAU,KACVC,OAAQ,KACRC,UAAW,KACXC,QAAS,MAGb,EAAKhB,YAAc,EAAKA,YAAYzD,KAAjB,gBAhBJ,E,+CAmBnB,SAAY0D,GACR,MAA6BA,EAAK/B,MAAQ,CAAC,KAAM,MAAjD,mBAAOuC,EAAP,KAAkBC,EAAlB,KACA,EAA+BT,EAAKgB,OAAS,CAAC,KAAM,MAApD,mBAAON,EAAP,KAAmBC,EAAnB,KACA,EAA2BX,EAAKiB,KAAO,CAAC,KAAM,MAA9C,mBAAOL,EAAP,KAAiBC,EAAjB,KACA,EAA6Bb,EAAKkB,MAAQ,CAAC,KAAM,MAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAiCpB,EAAKqB,QAAU,CAAC,KAAM,MAAvD,mBAAOC,EAAP,KAAoBC,EAApB,KACMT,EAAYK,GAAaG,GAAb,UAA+BH,EAA/B,YAA4CG,GACxDP,EAAUK,GAAWG,GAAX,UAA2BH,EAA3B,YAAsCG,GACtDnH,KAAKN,UAAS,SAAAX,GAAK,MAAK,CAACqH,YAAWC,UAASC,aAAYC,WAAUC,WAAUC,SAAQC,YAAWC,gB,wBAGpG,WACI3G,KAAKrB,MAAM8G,cAAc,cAAezF,KAAKjB,S,oBAGjD,WAAU,IAAD,OACL,OACI,sBAAKE,GAAI,kBAAT,UACI,6DACA,sBAAKqD,MAAO,CAAC8E,QAAS,OAAQC,cAAe,MAAOC,IAAK,QAAzD,UACI,uBAAOvB,KAAK,SAASwB,IAAI,OAAOC,IAAI,OAAOC,KAAK,IAAI3B,MAAO9F,KAAKjB,MAAMqH,WAAa,GAAIJ,SACnF,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBqH,UAAWH,EAAEC,OAAOJ,MAAMrH,mBAEtE,uBAAOsH,KAAK,SAASwB,IAAI,OAAOC,IAAI,OAAOC,KAAK,IAAI3B,MAAO9F,KAAKjB,MAAMsH,SAAW,GAAKL,SAClF,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBsH,QAASJ,EAAEC,OAAOJ,MAAMrH,mBAEpE,wBAAQ4B,QAAS,WACb,EAAKX,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBqH,UAAW,KAAMC,QAAS,KAAMC,WAAY,KAAMC,SAAU,KAAMC,SAAU,KAAMC,OAAQ,KAAMC,UAAW,KAAMC,QAAS,WADjK,sBAMF3G,KAAKjB,MAAMqH,WAAapG,KAAKjB,MAAMsH,SAAW,qCAChD,8DACA,sBAAK/D,MAAO,CAAC8E,QAAS,OAAQC,cAAe,MAAOC,IAAK,QAAzD,UACI,uBAAOvB,KAAK,SAASwB,IAAI,IAAIC,IAAI,KAAKC,KAAK,IAAI3B,MAAO9F,KAAKjB,MAAMuH,YAAc,GAAIN,SAC/E,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBuH,WAAYL,EAAEC,OAAOJ,MAAMrH,mBAEvE,uBAAOsH,KAAK,SAASwB,IAAI,IAAIC,IAAI,KAAKC,KAAK,IAAI3B,MAAO9F,KAAKjB,MAAMwH,UAAY,GAAKP,SAC9E,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBwH,SAAUN,EAAEC,OAAOJ,MAAMrH,mBAErE,wBAAQ4B,QAAS,WACb,EAAKX,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBuH,WAAY,KAAMC,SAAU,KAAMC,SAAU,KAAMC,OAAQ,KAAMC,UAAW,KAAMC,QAAS,WADjI,yBAOF3G,KAAKjB,MAAMuH,YAActG,KAAKjB,MAAMwH,UAAY,qCAClD,4DACA,sBAAKjE,MAAO,CAAC8E,QAAS,OAAQC,cAAe,MAAOC,IAAK,QAAzD,UACI,uBAAOvB,KAAK,SAASwB,IAAI,IAAIC,IAAI,KAAKC,KAAK,IAAI3B,MAAO9F,KAAKjB,MAAMyH,UAAY,GAAIR,SAC7E,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgByH,SAAUP,EAAEC,OAAOJ,MAAMrH,mBAErE,uBAAOsH,KAAK,SAASwB,IAAI,IAAIC,IAAI,KAAKC,KAAK,IAAI3B,MAAO9F,KAAKjB,MAAM0H,QAAU,GAAKT,SAC5E,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB0H,OAAQR,EAAEC,OAAOJ,MAAMrH,mBAEnE,wBAAQ4B,QAAS,WACb,EAAKX,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgByH,SAAU,KAAMC,OAAQ,KAAMC,UAAW,KAAMC,QAAS,WAD/F,yBAOF3G,KAAKjB,MAAMyH,UAAYxG,KAAKjB,MAAM0H,QAAU,qCAC9C,4DACA,sBAAKnE,MAAO,CAAC8E,QAAS,OAAQC,cAAe,MAAOC,IAAK,QAAzD,UACI,uBAAOvB,KAAK,OAAOD,MAAO9F,KAAKjB,MAAM2H,WAAa,GAAIV,SAClD,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB2H,UAAWT,EAAEC,OAAOJ,MAAMrH,mBAEtE,uBAAOsH,KAAK,OAAOD,MAAO9F,KAAKjB,MAAM4H,SAAW,GAAKX,SACjD,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB4H,QAASV,EAAEC,OAAOJ,MAAMrH,mBAEpE,wBAAQ4B,QAAS,WACb,EAAKX,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB2H,UAAW,KAAMC,QAAS,WADjE,gC,GA7FMrG,IAAMC,YC6GjBmH,G,yDA5GX,WAAY/I,GAAO,IAAD,8BACd,cAAMA,IAyBVgJ,cAAgB,SAAAC,GAEZ,EAAKlI,SAAS,CAAEoG,MAAO8B,EAAM1B,OAAOJ,SA5BtB,EA+BlB+B,qBAAuB,WAEnB,EAAKnI,SAAS,CAAEoI,aAAc,MAjChB,EAoClBC,UAAY,SAAA9H,GAGR,EAAKP,UAAS,SAAAX,GAGZ,MAAO,CACL+I,aAHmB/I,EAAM+I,aAAazE,QAAO,SAAC2E,EAAMC,GAAP,OAAahI,IAAMgI,UAxCtD,EAgDlBC,qBAAuB,WAGnB,EAAKxI,UAAS,SAAAX,GAGZ,MAAO,CACL+I,aAHmB/I,EAAM+I,aAAaK,OAAOpJ,EAAM+G,OAInDA,MAAO,QArDX,EAAKL,cAAgB9G,EAAM8G,cAC3B,EAAKC,WAAa,EAAKA,WAAWxD,KAAhB,gBAElB,EAAKnD,MAAQ,CACT+G,MAAO,GACPgC,aAAc,IAGlB,EAAKnC,YAAc,EAAKA,YAAYzD,KAAjB,gBAXL,E,+CAclB,SAAY0D,GACR5F,KAAKN,SAAS,CACVoI,aAAelC,EAAK5B,S,wBAI5B,WAGIhE,KAAKrB,MAAM8G,cAAc,aAAczF,KAAKjB,S,oBAsChD,WAAS,IAAD,OACJ,OACI,sBAAKE,GAAI,iBAAT,UACI,uBAAO4G,QAAS,mBAAoB5G,GAAI,0BAAxC,mBACA,sBAAKiB,MAAO,OAAZ,UACA,uBACI6F,KAAK,OACLD,MAAO9F,KAAKjB,MAAM+G,MAClBE,SAAUhG,KAAK2H,gBAEnB,wBACI5B,KAAK,SACL1F,QAASL,KAAKkI,qBACdE,UAAWpI,KAAKjB,MAAM+G,MAH1B,iBAOA,wBACIC,KAAK,SACL1F,QAASL,KAAK6H,qBAFlB,0BAfJ,gBAuBI,6BACK7H,KAAKjB,MAAM+I,aAAavE,KAAI,SAACyE,EAAMK,GAAP,OACzB,+BAAgBL,EACZ,wBACIjC,KAAK,SACL1F,QAAS,kBAAM,EAAK0H,UAAUM,IAFlC,iBADKL,e,GAzFR1H,IAAMC,YCqGhB+H,G,yDApGX,WAAY3J,GAAO,IAAD,8BACd,cAAMA,IAkBVgJ,cAAgB,SAAAC,GAEZ,EAAKlI,SAAS,CAAEoG,MAAO8B,EAAM1B,OAAOJ,SArBtB,EAwBlByC,uBAAyB,WAErB,EAAK7I,SAAS,CAAE8I,eAAgB,MA1BlB,EA6BlBC,aAAc,SAAAxI,GAGV,EAAKP,UAAS,SAAAX,GAGZ,MAAO,CACLyJ,eAHqBzJ,EAAMyJ,eAAenF,QAAO,SAAC2E,EAAMC,GAAP,OAAahI,IAAMgI,UAjC1D,EAyClBS,uBAAyB,WAGrB,EAAKhJ,UAAS,SAAAX,GAGZ,MAAO,CACLyJ,eAHqBzJ,EAAMyJ,eAAeL,OAAOpJ,EAAM+G,OAIvDA,MAAO,QA9CX,EAAKL,cAAgB9G,EAAM8G,cAC3B,EAAKC,WAAa,EAAKA,WAAWxD,KAAhB,gBAElB,EAAKnD,MAAQ,CACT+G,MAAO,GACP0C,eAAgB,IARN,E,8CAalB,WAGIxI,KAAKrB,MAAM8G,cAAc,gBAAiBzF,KAAKjB,S,oBAsCnD,WAAS,IAAD,OACJ,OACI,sBAAKE,GAAI,oBAAT,UACI,uBAAO4G,QAAS,sBAAuB5G,GAAI,4BAA3C,oBACA,sBAAKiB,MAAO,OAAZ,UACA,uBACI6F,KAAK,OACLD,MAAO9F,KAAKjB,MAAM+G,MAClBE,SAAUhG,KAAK2H,gBAEnB,wBACI5B,KAAK,SACL1F,QAASL,KAAK0I,uBACdN,UAAWpI,KAAKjB,MAAM+G,MAH1B,iBAOA,wBACIC,KAAK,SACL1F,QAASL,KAAKuI,uBAFlB,0BAfJ,kBAuBI,6BACKvI,KAAKjB,MAAMyJ,eAAejF,KAAI,SAACyE,EAAMK,GAAP,OAC3B,+BAAgBL,EACZ,wBACIjC,KAAK,SACL1F,QAAS,kBAAM,EAAKoI,aAAaJ,IAFrC,iBADKL,QAUjB,wBAAQ/I,GAAI,4BAA6BoB,QAASL,KAAK0F,WAAvD,SACI,cAAC,IAAD,CAAMvF,KAAMwI,IAASvI,KAAM,EAAGnB,GAAI,qC,GA7F1BqB,IAAMC,Y,0BCG5BqI,EAAeC,uBAAaC,yBAAc,SAACnK,GAC7C,MAA8B2B,IAAMyI,SAAS,IAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4C3I,IAAMyI,UAAS,GAA3D,mBAAOG,EAAP,KAAuBC,EAAvB,KAIAC,qBAAU,WACHzK,EAAM0K,eACTC,EAAc3K,EAAM0K,iBACtB,IAEF,IAyBMC,EAAgB,SAAClG,GACnB6F,EAAW7F,IAGnB,OAAO,gCACH,cAACjC,EAAA,EAAD,CAAUC,KAAM8H,EAAgB7H,iBAAkB,IAAMC,QAAS,kBAAM6H,GAAkB,IAAzF,SACA,eAAC5H,EAAA,EAAD,CAAOD,QAAS,kBAAM6H,GAAkB,IAAQ3H,SAAS,QAAQC,GAAI,CAAEC,MAAO,QAA9E,iCAvCqB,EAuCrB,mBAGO,cAAC,YAAD,CAEH6H,YAAa,EACbC,cAAe,CAAEC,IAAK,GAAIC,IAAK,IACpCrJ,QAzBmB,SAAC4F,GACZ+C,EAAQxJ,OAtBM,EAuBbyJ,GAAW,SAAAlK,GACP,IAAMoD,EAAQ,sBAAQpD,GAAR,CAAe,CAAC0K,IAAKxD,EAAE0D,OAAOF,MAAOC,IAAMzD,EAAE0D,OAAOD,SAElE,OADA/K,EAAMiL,kBAAkBzH,GACjBA,KAGXgH,GAAkB,IAanB,SAKFH,EAAQzF,KAAI,SAACD,EAAIrD,GACd,OAAQ,cAAC,SAAD,CAAQ4J,WAAW,EAAMC,UAAa,SAACC,EAAGxG,EAAKyG,GAAT,OAAoBf,GAAW,SAAAD,GAAsE,OAA1DA,EAAQ/I,GAAK,CAACwJ,IAAKM,EAAEJ,OAAOF,MAAOC,IAAMK,EAAEJ,OAAOD,OAAeV,MAAYiB,QAAS,CAACC,KAAK,sCAAD,OAAuCjK,EAAE,EAAzC,yHAAmKI,QAAW,kBAxCpVgI,EAwCuWpI,OAvCzXgJ,GAAW,SAAAlK,GAEP,IADA,IAAIoD,EAAW,GACPlC,EAAG,EAAIA,EAAGlB,EAAMS,OAAQS,IACzBA,GAAKoI,GACJlG,EAASwC,KAAK5F,EAAMkB,IAE5B,OADAtB,EAAMiL,kBAAkBzH,GACjBA,KAPM,IAACkG,GAwC0W8B,SAAY7G,GAAYrD,eA+F7YmK,E,kDArFX,WAAYzL,GAAO,IAAD,8BACd,cAAMA,IA+BV0L,aAAe,SAACjH,GACZ,EAAK1D,SAAS,CACR4K,kBAAoBlH,KA/B1B,EAAKqC,cAAgB9G,EAAM8G,cAC3B,EAAKC,WAAa,EAAKA,WAAWxD,KAAhB,gBAElB,EAAKnD,MAAQ,CACTuL,kBAAmB,IAGvB,EAAK3E,YAAc,EAAKA,YAAYzD,KAAjB,gBACnB,EAAKqI,OAASjK,IAAMkK,YAXN,E,+CAclB,SAAY5E,GAER5F,KAAKN,SAAS,CACV+K,MAAM,EACNH,kBAAoB1E,EAAKxC,UAAUG,KAAI,SAACD,GAAS,MAAO,CAACoH,KAAMpH,EAAI,GAAIoG,IAAKpG,EAAI,GAAImG,IAAKnG,EAAI,W,wBAKrG,WAGItD,KAAKrB,MAAM8G,cAAc,kBAAmBzF,KAAKjB,MAAMuL,kBAAkB/G,KAAI,SAACD,GAC1E,MAAO,CAACoH,KAAKpH,EAAG,KAAWA,EAAG,KAAU,GAAGqH,UAAWrH,EAAG,IAASsH,SAAUtH,EAAG,W,oBAWvF,WAAS,IAAD,OACAuH,EAAMC,oJAAYC,yBAA0B,OAASD,oJAAYC,yBAA2B,IAAO,GACvG,OACI,sBAAK9L,GAAI,sBAAT,UACI,gCACHe,KAAKjB,MAAM0L,MAAQ,cAAC7B,EAAD,CAChBS,cAAiBrJ,KAAKjB,MAAMuL,kBAAkB/G,KAAI,SAACD,GAAS,MAAO,CAACmG,IAAKnG,EAAG,IAASoG,IAAKpG,EAAG,QAC7FsG,kBAAqB5J,KAAKqK,aAC1BW,eAAa,EACbC,aAAY,kDAA6CJ,EAA7C,6CACZK,eAAgB,qBAAK5I,MAAO,CAAEO,OAAO,UACrCsI,iBAAkB,qBAAK7I,MAAO,CAAEO,OAAO,WACvCuI,WAAY,qBAAK9I,MAAO,CAAEO,OAAO,aAEnC7C,KAAKjB,MAAM0L,MAAQ,cAAC7B,EAAD,CACjBgB,kBAAqB5J,KAAKqK,aAC1BW,eAAa,EACbC,aAAY,kDAA6CJ,EAA7C,6CACZK,eAAgB,qBAAK5I,MAAO,CAAEO,OAAO,UACrCsI,iBAAkB,qBAAK7I,MAAO,CAAEO,OAAO,WACvCuI,WAAY,qBAAK9I,MAAO,CAAEO,OAAO,eAIjC,4FACA,qBAAKP,MAAS,CAACO,OAAQ,SAAS3C,MAAQ,WAAxC,SACA,6BACKF,KAAKjB,MAAMuL,kBAAkB/G,KAAI,SAACyE,EAAMK,GAAP,OAC9B,+BAAiBA,EAAQ,EACrB,uBAAOvC,MAAS,EAAK/G,MAAMuL,kBAAkBjC,GAA7B,KAA6CtC,KAAK,OAAOC,SAAY,SAAAC,GAAC,OAAI,EAAKvG,UAC3F,SAAAX,GACI,IAAIoD,EAAWpD,EAEf,OADAoD,EAASmI,kBAAkBjC,GAA3B,KAA4CpC,EAAEC,OAAOJ,MAC9C3D,UALVkG,iB,GAnEH/H,IAAMC,WCjD9B8K,E,kDACF,WAAY1M,GAAO,IAAD,8BACd,cAAMA,IAED2M,SAAWhL,IAAMkK,YACtB,EAAKe,YAAcjL,IAAMkK,YACzB,EAAKgB,QAAUlL,IAAMkK,YACrB,EAAKiB,QAAUnL,IAAMkK,YAErB,EAAKkB,QAAU,CAAC,EAAKJ,SAAU,EAAKC,YAAa,EAAKC,QAAS,EAAKC,SAEpE,EAAK1M,MAAQ,CACT4M,SAAW,QACXC,SAAU,CACNC,YAAa,CAAC1I,MAAQ,IAAKjF,KAAM,KACjC4N,gBAAiB,GACjBC,YAAa,CAACC,UAAY,GAAItF,UAAW,IACzCuF,WAAY,CAACnE,aAAc,IAC3BpF,MAAM,OACNwJ,eAAgB,OAIxB,EAAKC,sBAAwB,EAAKA,sBAAsBjK,KAA3B,gBAC7B,EAAKkK,OAAS,EAAKA,OAAOlK,KAAZ,gBACd,EAAKmK,cAAgB,EAAKA,cAAcnK,KAAnB,gBACrB,EAAKoK,mBAAqB,EAAKA,mBAAmBpK,KAAxB,gBAC1B,EAAKqK,gBAAkB,EAAKA,gBAAgBrK,KAArB,gBACvB,EAAKsK,oBAAsB,EAAKA,oBAAoBtK,KAAzB,gBA3Bb,E,yDA8BlB,SAAsBuK,EAAgBC,GAClC,IAAMC,EAAW,CACb,YAAe,qBACf,gBAAmB,mBACnB,YAAe,eACf,cAAiB,iBACjB,WAAc,cACd,eAAkB,iBAEtB3M,KAAKN,UAAS,SAAAX,GAEV,IAAI6N,EAAM,eAAO7N,GAUjB,OATA6N,EAAOhB,SAASa,GAAkBC,EAGb,mBAAlBD,IACCG,EAAOhB,SAASa,GAAkBC,GAEtCE,EAAM,kBAAuB,EAC7BA,EAAM,UAAgBD,EAASF,GAExBG,O,oBAMf,SAAOtJ,GACHtD,KAAKN,UAAS,SAAAX,GAGV,OAAO,2BACAA,GADP,IAEI4M,SAAUrI,S,gCAKtB,WACItD,KAAKN,UAAS,SAAAX,GAGV,OAAO,2BACAA,GADP,IAEI8N,QAAS,Y,6BAMrB,WACI7M,KAAKN,UAAS,SAAAX,GAGV,OAAO,2BACAA,GADP,IAEI+N,kBAAkB,S,iCAK9B,WAiBI,IAAIxJ,EAAM,CACNH,MAAOnD,KAAKjB,MAAM6M,SAAX,kBACP9J,MAAO9B,KAAKjB,MAAM6M,SAAX,iBACPlJ,MAAO1C,KAAKjB,MAAM6M,SAAX,MACPxI,UAAWpD,KAAKjB,MAAM6M,SAAX,gBACXxF,UAAWpG,KAAKjB,MAAM6M,SAAX,sBACXvF,QAASrG,KAAKjB,MAAM6M,SAAX,oBACTtF,WAAYtG,KAAKjB,MAAM6M,SAAX,uBACZrF,SAAUvG,KAAKjB,MAAM6M,SAAX,qBACVpF,SAAUxG,KAAKjB,MAAM6M,SAAX,qBACVnF,OAAQzG,KAAKjB,MAAM6M,SAAX,mBACRlF,UAAW1G,KAAKjB,MAAM6M,SAAX,sBACXjF,QAAS3G,KAAKjB,MAAM6M,SAAX,oBAIT5H,KAAMhE,KAAKjB,MAAM6M,SAAX,wBAENzH,QAASnE,KAAKjB,MAAM6M,SAAX,gBAETmB,EAAe,GACnB,IAAI,IAAIlC,KAAOvH,EACRA,EAAIuH,KACHkC,EAAalC,GAAOvH,EAAIuH,IAIhC,OAAQkC,I,2BAKZ,WAAgB,IAOQC,EAPT,OAILD,EAAe/M,KAAKwM,sBAsBtBS,GAnBgBD,EAmBOD,EAnBGG,OAAOC,KAAKH,GAAQI,QAAO,SAACH,EAAUpC,GAChE,GAAKA,EAAIwC,SAAS,QACdJ,EAASK,OAAO,OAAQN,EAAOnC,SAC7B,GAAIA,EAAIwC,SAAS,SACnBJ,EAASK,OAAO,QAASN,EAAOnC,SAC9B,GAAIA,EAAIwC,SAAS,OACnBJ,EAASK,OAAO,MAAON,EAAOnC,SAE7B,GAAU,aAAPA,EACJ,IAAI,IAAI0C,KAAMP,EAAOnC,GACjBoC,EAASK,OAAOzC,EAAK1M,KAAKC,UAAU4O,EAAOnC,GAAK0C,UACnD,GAAU,QAAP1C,EACJ,IAAI,IAAI0C,KAAMP,EAAOnC,GACjBoC,EAASK,OAAOzC,EAAKmC,EAAOnC,GAAK0C,SAErCN,EAASK,OAAOzC,EAAKmC,EAAOnC,IAChC,OAAOoC,IACR,IAAIO,WAIHC,EAAe,EACnB,IAAI,IAAM5C,KAAOkC,EAAa5I,QACvB4I,EAAa5I,QAAQ0G,aAAgB6C,OACpCD,EAAe,EACfR,EAASK,OAAO,SAAUP,EAAa5I,QAAQ0G,KAInD4C,GACAR,EAASU,IAAI,SAAU,IAK3B9P,MAAM,UAAD,OAzLM,cAyLN,yBAA8C,CAC/CC,OAAQ,OACRC,QAAS,CACL,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,YAEjDC,KAAM+O,IACP9N,MAAK,SAAAyO,GACa,KAAdA,EAAIC,QACHhP,QAAQC,IAAI,QAAU8O,EAAItO,MAC1B,EAAKI,UAAS,SAAAX,GACV,OAAO,2BACAA,GADP,IAEI8N,SAAS,EACTiB,cAAe,4BAAqBF,EAAIC,OAAzB,OAAuC1P,KAAKC,UAAUwP,UAI7E/O,QAAQC,IAAI,iBACZ,EAAKY,UAAS,SAAAX,GACV,OAAO,2BACAA,GADP,IAEI8N,SAAS,WAMxB3H,OAAM,SAAA6I,GACH,EAAKrO,UAAS,SAAAX,GACV,OAAO,2BACAA,GADP,IAEI8N,SAAS,EACTiB,cAAeC,OAGvBlP,QAAQC,IAAI,SAAWiP,Q,oBAO/B,WAAS,IAAD,OAEJ,OACI,wBAAQ3I,UAAU,aAAlB,SACA,sBAAKlF,MAAQ,mBAAb,UACI,sBAAKA,MAAQ,YAAb,UACI,sBAAKA,MAAoC,SAA1BF,KAAKjB,MAAL,SAAoC,OAAQ,GAA3D,UAA+D,cAAC,EAAD,CAAaiP,IAAOhO,KAAKsL,SAAU7F,cAAiBzF,KAAKmM,wBAAxH,OACA,qBAAKjM,MAAoC,YAA1BF,KAAKjB,MAAL,SAAuC,OAAQ,GAA9D,SAAkE,cAAC,EAAD,CAAiBiP,IAAOhO,KAAKuL,YAAa9F,cAAiBzF,KAAKmM,0BAClI,qBAAKjM,MAAoC,QAA1BF,KAAKjB,MAAL,SAAmC,OAAQ,GAA1D,SAA8D,cAAC,EAAD,CAAaiP,IAAOhO,KAAKwL,QAAS/F,cAAiBzF,KAAKmM,0BACtH,qBAAKjM,MAAoC,UAA1BF,KAAKjB,MAAL,SAAqC,OAAQ,GAA5D,SAAgE,cAAC,EAAD,CAAgB0G,cAAiBzF,KAAKmM,0BACtG,qBAAKjM,MAAoC,QAA1BF,KAAKjB,MAAL,SAAmC,OAAQ,GAA1D,SAA8D,cAAC,EAAD,CAAYiP,IAAOhO,KAAKyL,QAAShG,cAAiBzF,KAAKmM,0BACrH,qBAAKjM,MAAoC,UAA1BF,KAAKjB,MAAL,SAAqC,OAAQ,GAA5D,SAAgE,cAAC,EAAD,CAAiB0G,cAAiBzF,KAAKmM,0BAC5E,WAA1BnM,KAAKjB,MAAL,UAAuC,8BAAM,cAAC,EAAD,CAAwDkP,WAAcjO,KAAKwM,sBAAuB/G,cAAiBzF,KAAKmM,uBAA3FnM,KAAKjB,MAAM6M,SAASlJ,YAGnG,sBAAKxC,MAAQ,cAAb,UACI,wBAAQA,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,UAA9D,mBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,aAA9D,sBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,SAA9D,kBAEA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,SAA9D,kBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,WAA9D,oBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WACvC,EAAKiL,SAAS4C,QAAQxI,aACtB,EAAK6F,YAAY2C,QAAQxI,aACzB,EAAK8F,QAAQ0C,QAAQxI,aACrB,EAAK+F,QAAQyC,QAAQxI,aAGrB,EAAK0G,OAAO,YAPhB,wBAkCJ,cAACjL,EAAA,EAAD,CAAUC,KAA4B,GAAtBpB,KAAKjB,MAAM8N,QAAkBxL,iBAAkB,IAAMC,QAAStB,KAAKsM,mBAAnF,SACI,eAAC/K,EAAA,EAAD,CAAOD,QAAStB,KAAKsM,mBAAoB9K,SAAS,QAAQC,GAAI,CAAEC,MAAO,QAAvE,6EAEK1B,KAAKjB,MAAM+O,mBAIpB,cAAC3M,EAAA,EAAD,CAAUC,KAAMpB,KAAKjB,MAAM8N,QAASxL,iBAAkB,IAAMC,QAAStB,KAAKsM,mBAA1E,SACI,cAAC/K,EAAA,EAAD,CAAOD,QAAStB,KAAKsM,mBAAoB9K,SAAS,UAAUC,GAAI,CAAEC,MAAO,QAAzE,kDAKJ,cAAC,IAAD,CAAMZ,GAAI,cAAcwE,QAAU,KAAlC,SACI,cAAC,IAAD,CAAMjF,QAAW,WACjB,EAAKiL,SAAS4C,QAAQxI,aACtB,EAAK6F,YAAY2C,QAAQxI,aACzB,EAAK8F,QAAQ0C,QAAQxI,aACrB,EAAK+F,QAAQyC,QAAQxI,aACrBjG,WAAY,EAAK4M,cAAe,KAElCnM,MAAQ,kCAAkCC,KAAMgO,IAC1ChL,MAAM,OACN/C,KAAM,EACNwC,MAAM,qB,GAjTLtC,IAAMC,WA6TzB6N,E,kDACF,WAAYzP,GAAO,IAAD,8BACd,cAAMA,IACD0P,iBAAmB,EAAKA,iBAAiBnM,KAAtB,gBAFV,E,oDAKlB,SAAiB+D,GACbjG,KAAKrB,MAAM8G,cAAc,iBAAiBQ,EAAEC,OAAOoI,S,oBAGvD,WACI,OACI,gCACA,mGACI,uBACJvI,KAAK,OAAO9G,GAAG,OACfsP,OAAO,aACPC,UAAQ,EACRxI,SAAUhG,KAAKqO,0B,GAlBE/N,IAAMC,WA0B7BkO,E,kDACF,WAAY9P,GAAO,IAAD,8BACd,cAAMA,IACDI,MAAQ,CACT+G,MAAOnH,GAHG,E,0CAiBlB,WACI,OACI,8BACI,cAAC,EAAD,eAAUqB,KAAKrB,MAAMsP,kB,uCAbjC,SAAgCtP,EAAO+P,GACnC,OAAIA,EAAc5I,QAAUnH,EACnB,CACLmH,MAAOnH,GAGJ,S,GAdoB2B,IAAMC,WA2B1B8K,ICnXTsD,E,kDACF,WAAYhQ,GAAO,IAAD,sBACd,cAAMA,GAENE,QAAQC,IAAI8P,OAAOC,SAASC,MAC5B,IACMrR,EAAMmR,OAAOC,SAASC,KACtBC,EAAMtR,EAAIuR,OAFF,QAGR/P,EAAKgG,SAASxH,EAAIsE,MAAMgN,EAAI,IAPpB,OAQdlQ,QAAQC,IAAIrB,EAAIsE,MAAMgN,EAAI,IAE1B,EAAKzD,SAAWhL,IAAMkK,YACtB,EAAKe,YAAcjL,IAAMkK,YACzB,EAAKgB,QAAUlL,IAAMkK,YACrB,EAAKiB,QAAUnL,IAAMkK,YAErB,EAAKkB,QAAU,CAAC,EAAKJ,SAAU,EAAKC,YAAa,EAAKC,QAAS,EAAKC,SAEpE,EAAK1M,MAAQ,CACTE,GAAIA,EACJ0M,SAAW,QACXC,SAAU,CACNC,YAAa,CAAC1I,MAAQ,IAAKjF,KAAM,KACjC4N,gBAAiB,GACjBC,YAAa,CACT3F,UAAW,KACXC,QAAS,KACTC,WAAY,KACZC,SAAU,KACVC,SAAU,KACVC,OAAQ,KACRC,UAAW,KACXC,QAAS,MAEbsF,WAAY,CAACnE,aAAc,IAC3BpF,MAAM,OACNwJ,eAAgB,OAIxB,EAAKC,sBAAwB,EAAKA,sBAAsBjK,KAA3B,gBAC7B,EAAKkK,OAAS,EAAKA,OAAOlK,KAAZ,gBACd,EAAKmK,cAAgB,EAAKA,cAAcnK,KAAnB,gBACrB,EAAKoK,mBAAqB,EAAKA,mBAAmBpK,KAAxB,gBAC1B,EAAKqK,gBAAkB,EAAKA,gBAAgBrK,KAArB,gBACvB,EAAKsK,oBAAsB,EAAKA,oBAAoBtK,KAAzB,gBA5Cb,E,qDA+ClB,WAAoB,IAAD,OAEfhD,EAAA,wBAAkCc,KAAKjB,MAAME,IAAK,IAAIE,MAAK,SAAAyF,GAAI,OAAIA,EAAKvF,UAAQF,MAC5E,SAAAG,GACI,EAAKI,UAAS,SAAAX,GAAQ,OAAO,2BACtBA,GADe,IAElB6M,SAAS,2BACF7M,EAAM6M,UADL,IAEJlJ,MAAOpD,EAAKoD,aAGpB,EAAK6I,YAAY2C,QAAQvI,YAAYrG,GACrCA,EAAK8D,UAAY9D,EAAK8D,UAAUG,KAAK,SAACD,EAAKrD,GAAN,OAAYqD,EAAI,MACrDzE,QAAQC,IAAIQ,GACZ,EAAKgM,SAAS4C,QAAQvI,YAAYrG,GAClC,EAAKmM,QAAQyC,QAAQvI,YAAYrG,GAEjC,EAAKkM,QAAQ0C,QAAQvI,YAAYrG,Q,mCAK7C,SAAsBmN,EAAgBC,GAClC,IAAMC,EAAW,CACb,YAAe,qBACf,gBAAmB,mBACnB,YAAe,eACf,cAAiB,iBACjB,WAAc,cACd,eAAkB,iBAEtB3M,KAAKN,UAAS,SAAAX,GAEV,IAAI6N,EAAM,eAAO7N,GAUjB,OATA6N,EAAOhB,SAASa,GAAkBC,EAGb,mBAAlBD,IACCG,EAAOhB,SAASa,GAAkBC,GAEtCE,EAAM,kBAAuB,EAC7BA,EAAM,UAAgBD,EAASF,GAExBG,O,oBAMf,SAAOtJ,GACHtD,KAAKN,UAAS,SAAAX,GAGV,OAAO,2BACAA,GADP,IAEI4M,SAAUrI,S,gCAKtB,WACItD,KAAKN,UAAS,SAAAX,GAGV,OAAO,2BACAA,GADP,IAEI8N,QAAS,Y,6BAMrB,WACI7M,KAAKN,UAAS,SAAAX,GAGV,OAAO,2BACAA,GADP,IAEI+N,kBAAkB,S,iCAK9B,WAiBI,IAAIxJ,EAAM,CACNH,MAAOnD,KAAKjB,MAAM6M,SAAX,kBACP9J,MAAO9B,KAAKjB,MAAM6M,SAAX,iBACPlJ,MAAO1C,KAAKjB,MAAM6M,SAAX,MACPxI,UAAWpD,KAAKjB,MAAM6M,SAAX,gBACXxF,UAAWpG,KAAKjB,MAAM6M,SAAX,sBACXvF,QAASrG,KAAKjB,MAAM6M,SAAX,oBACTtF,WAAYtG,KAAKjB,MAAM6M,SAAX,uBACZrF,SAAUvG,KAAKjB,MAAM6M,SAAX,qBACVpF,SAAUxG,KAAKjB,MAAM6M,SAAX,qBACVnF,OAAQzG,KAAKjB,MAAM6M,SAAX,mBACRlF,UAAW1G,KAAKjB,MAAM6M,SAAX,sBACXjF,QAAS3G,KAAKjB,MAAM6M,SAAX,oBAIT5H,KAAMhE,KAAKjB,MAAM6M,SAAX,wBAENzH,QAASnE,KAAKjB,MAAM6M,SAAX,gBAETmB,EAAe,GACnB,IAAI,IAAIlC,KAAOvH,EACRA,EAAIuH,KACHkC,EAAalC,GAAOvH,EAAIuH,IAIhC,OAAQkC,I,2BAKZ,WAAgB,IAAD,EAOSC,EAPT,OAILD,EAAe/M,KAAKwM,sBAyBtBS,GAtBgBD,EAsBOD,EAtBGG,OAAOC,KAAKH,GAAQI,QAAO,SAACH,EAAUpC,GAChE,GAAKA,EAAIwC,SAAS,QACdJ,EAASK,OAAO,OAAQN,EAAOnC,SAC7B,GAAIA,EAAIwC,SAAS,SACnBJ,EAASK,OAAO,QAASN,EAAOnC,SAC9B,GAAIA,EAAIwC,SAAS,OACnBJ,EAASK,OAAO,MAAON,EAAOnC,SAE7B,GAAU,aAAPA,EACJ,IAAI,IAAI0C,KAAMP,EAAOnC,GACjBoC,EAASK,OAAOzC,EAAK1M,KAAKC,UAAU4O,EAAOnC,GAAK0C,UACnD,GAAU,QAAP1C,EACJ,IAAI,IAAI0C,KAAMP,EAAOnC,GACjBoC,EAASK,OAAOzC,EAAKmC,EAAOnC,GAAK0C,SAErCN,EAASK,OAAOzC,EAAKmC,EAAOnC,IAChC,OAAOoC,IACR,IAAIO,WAOP3O,QAAQC,IAAImO,EAASgC,OAAO,SAC5B,IAAIxB,EAAe,EACnB,IAAI,IAAM5C,KAAOkC,EAAa5I,QACvB4I,EAAa5I,QAAQ0G,aAAgB6C,OACpCD,EAAe,EACfR,EAASK,OAAO,SAAUP,EAAa5I,QAAQ0G,KAInD4C,GACAR,EAASU,IAAI,SAAU,KAG3B,EAAA9O,SAAQC,IAAR,oBAAemO,IACfpP,MAAM,UAAD,OAnOM,cAmON,8BAA2CmC,KAAKjB,MAAME,IAAM,CAC7DnB,OAAQ,MACRC,QAAS,CACL,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,YAEjDC,KAAM+O,IACP9N,MAAK,SAAAyO,GACa,KAAdA,EAAIC,QACHhP,QAAQC,IAAI,QAAU8O,EAAItO,MAC1B,EAAKI,UAAS,SAAAX,GACV,OAAO,2BACAA,GADP,IAEI8N,SAAS,EACTiB,cAAe,4BAAqBF,EAAIC,OAAzB,OAAuC1P,KAAKC,UAAUwP,UAI7E/O,QAAQC,IAAI,iBAIZ,EAAKY,UAAS,SAAAX,GACV,OAAO,2BACAA,GADP,IAEI8N,SAAS,WAMxB3H,OAAM,SAAA6I,GACH,EAAKrO,UAAS,SAAAX,GACV,OAAO,2BACAA,GADP,IAEI8N,SAAS,EACTiB,cAAeC,OAGvBlP,QAAQC,IAAI,SAAWiP,Q,oBAO/B,WAAS,IAAD,OAEJ,OACI,wBAAQ3I,UAAU,aAAlB,SACA,sBAAKlF,MAAQ,mBAAb,UACI,sBAAKA,MAAQ,YAAb,UACI,sBAAKA,MAAoC,SAA1BF,KAAKjB,MAAL,SAAoC,OAAQ,GAA3D,UAA+D,cAAC,EAAD,CAAaiP,IAAOhO,KAAKsL,SAAU7F,cAAiBzF,KAAKmM,wBAAxH,OACA,qBAAKjM,MAAoC,YAA1BF,KAAKjB,MAAL,SAAuC,OAAQ,GAA9D,SAAkE,cAAC,EAAD,CAAiBiP,IAAOhO,KAAKuL,YAAa9F,cAAiBzF,KAAKmM,0BAClI,qBAAKjM,MAAoC,QAA1BF,KAAKjB,MAAL,SAAmC,OAAQ,GAA1D,SAA8D,cAAC,EAAD,CAAaiP,IAAOhO,KAAKwL,QAAS/F,cAAiBzF,KAAKmM,0BACtH,qBAAKjM,MAAoC,UAA1BF,KAAKjB,MAAL,SAAqC,OAAQ,GAA5D,SAAgE,cAAC,EAAD,CAAgB0G,cAAiBzF,KAAKmM,0BACtG,qBAAKjM,MAAoC,QAA1BF,KAAKjB,MAAL,SAAmC,OAAQ,GAA1D,SAA8D,cAAC,EAAD,CAAYiP,IAAOhO,KAAKyL,QAAShG,cAAiBzF,KAAKmM,0BACrH,qBAAKjM,MAAoC,UAA1BF,KAAKjB,MAAL,SAAqC,OAAQ,GAA5D,SAAgE,cAAC,EAAD,CAAiB0G,cAAiBzF,KAAKmM,0BAC5E,WAA1BnM,KAAKjB,MAAL,UAAuC,8BAAM,cAAC,EAAD,CAAwDkP,WAAcjO,KAAKwM,sBAAuB/G,cAAiBzF,KAAKmM,uBAA3FnM,KAAKjB,MAAM6M,SAASlJ,YAGnG,sBAAKxC,MAAQ,cAAb,UACI,wBAAQA,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,UAA9D,mBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,aAA9D,sBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,SAA9D,kBAEA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,SAA9D,kBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WAAO,EAAK+L,OAAO,WAA9D,oBACA,wBAAQlM,MAAQ,gBAAgBG,QAAW,WACvC,EAAKiL,SAAS4C,QAAQxI,aACtB,EAAK6F,YAAY2C,QAAQxI,aACzB,EAAK8F,QAAQ0C,QAAQxI,aACrB,EAAK+F,QAAQyC,QAAQxI,aAGrB,EAAK0G,OAAO,YAPhB,wBAkCJ,cAACjL,EAAA,EAAD,CAAUC,KAA4B,GAAtBpB,KAAKjB,MAAM8N,QAAkBxL,iBAAkB,IAAMC,QAAStB,KAAKsM,mBAAnF,SACI,eAAC/K,EAAA,EAAD,CAAOD,QAAStB,KAAKsM,mBAAoB9K,SAAS,QAAQC,GAAI,CAAEC,MAAO,QAAvE,6EAEK1B,KAAKjB,MAAM+O,mBAIpB,cAAC3M,EAAA,EAAD,CAAUC,KAAMpB,KAAKjB,MAAM8N,QAASxL,iBAAkB,IAAMC,QAAStB,KAAKsM,mBAA1E,SACI,cAAC/K,EAAA,EAAD,CAAOD,QAAStB,KAAKsM,mBAAoB9K,SAAS,UAAUC,GAAI,CAAEC,MAAO,QAAzE,kDAKJ,cAAC,IAAD,CAAMZ,GAAE,uBAAmBd,KAAKjB,MAAME,IAAMqG,QAAU,KAAtD,SACI,cAAC,IAAD,CAAMjF,QAAW,WACjB,EAAKiL,SAAS4C,QAAQxI,aACtB,EAAK6F,YAAY2C,QAAQxI,aACzB,EAAK8F,QAAQ0C,QAAQxI,aACrB,EAAK+F,QAAQyC,QAAQxI,aAErBjG,WAAY,EAAK4M,cAAe,KAElCnM,MAAQ,kCAAkCC,KAAMgO,IAC1ChL,MAAM,OACN/C,KAAM,EACNwC,MAAM,qB,GA/VPtC,IAAMC,WA2WvB6N,E,kDACF,WAAYzP,GAAO,IAAD,8BACd,cAAMA,IACD0P,iBAAmB,EAAKA,iBAAiBnM,KAAtB,gBAFV,E,oDAKlB,SAAiB+D,GACbjG,KAAKrB,MAAM8G,cAAc,iBAAiBQ,EAAEC,OAAOoI,S,oBAGvD,WACI,OACI,gCACA,mGACI,uBACJvI,KAAK,OAAO9G,GAAG,OACfsP,OAAO,aACPC,UAAQ,EACRxI,SAAUhG,KAAKqO,0B,GAlBE/N,IAAMC,WA0B7BkO,E,kDACF,WAAY9P,GAAO,IAAD,8BACd,cAAMA,IACDI,MAAQ,CACT+G,MAAOnH,GAHG,E,0CAiBlB,WACI,OACI,8BACI,cAAC,EAAD,eAAUqB,KAAKrB,MAAMsP,kB,uCAbjC,SAAgCtP,EAAO+P,GACnC,OAAIA,EAAc5I,QAAUnH,EACnB,CACLmH,MAAOnH,GAGJ,S,GAdoB2B,IAAMC,WA2B1BoO,ICtaAO,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjQ,MAAK,YAAkD,IAA/CkQ,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCPC,MAA0B,iDCMnCO,EAAgB,CAClBC,MAAO,OACP9M,OAAQ,OACRnB,MAAO,MACPsB,OAAQ,EACR4M,QAAS,EACTC,UAAW,aACXC,OAAQ,mBAINC,GAAiB,CACnBJ,MAAO,QACP9M,OAAQ,OACRnB,MAAO,MACPsB,OAAQ,EACR4M,QAAS,EACTI,gBAAiB,QACjBH,UAAW,aACXC,OAAQ,mBAING,GAAa,CACfC,UAAW,OACXC,SAAU,QA0CCC,G,kDAtCX,WAAYzR,GAAQ,IAAD,8BACf,cAAMA,IAQVgC,UAAY,WACR,EAAKjB,SAAS,CAAEkB,YAAY,KAVb,EAajBC,WAAa,WACX,EAAKnB,SAAS,CAAEkB,YAAY,KAZ5B,EAAKjC,MAAQA,EAEb,EAAKI,MAAQ,CACT6B,YAAY,GALD,E,0CAiBnB,WACI,OACI,sBAAK0B,MAAO,CAACO,OAAQ,OAAQnB,MAAO,QAApC,UACI,uBAAOqE,KAAM,OAAQsK,YAAa,UAAW3F,KAAM,QAASpI,MAAOoN,IACnE,wBAAQpN,MAAOyN,GAAf,SACI,qBACIjN,IC1DT,yiCD2DSR,MAAO2N,GACP5P,QAASL,KAAKW,cAGtB,cAACQ,EAAA,EAAD,CAAUC,KAAMpB,KAAKjB,MAAM6B,WAAYS,iBAAkB,IAAMC,QAAStB,KAAKa,WAA7E,SACI,cAACU,EAAA,EAAD,CAAOD,QAAStB,KAAKa,WAAYW,SAAS,OAAOC,GAAI,CAAEC,MAAO,QAA9D,yG,GA9BIpB,IAAMC,WErBxB+P,GAAc,CAChBnG,SAAU,QACVzI,MAAO,OACPmB,OAAQ,OACRmN,gBANgB,sBASdN,GAAgB,CAClBC,MAAO,OACP9M,OAAQ,OACR0N,WAAY,OACZC,YAAa,QAGXT,GAAiB,CACnBJ,MAAO,QACP9M,OAAQ,OACR0N,WAAY,OACZC,YAAa,QAIXP,GAAa,CACfC,UAAW,OACXC,SAAU,QAIRM,GAAY,CACdzN,OAAQ,EACRW,SAAU,QACV+M,WAAY,aACZ9N,MAAO,WA+DI+N,G,kDA1DX,WAAYhS,GAAQ,IAAD,8BACf,cAAMA,IAQVgC,UAAY,WACR,EAAKjB,SAAS,CAAEkB,YAAY,KAVb,EAajBC,WAAa,WACX,EAAKnB,SAAS,CAAEkB,YAAY,KAZ5B,EAAKjC,MAAQA,EAEb,EAAKI,MAAQ,CACT6B,YAAY,GALD,E,0CAiBnB,WACI,OAAQ,sBAAK0B,MAAOgO,GAAZ,UACJ,qHAIA,qBAAKhO,MAAOoN,GAAZ,SACI,cAAC,GAAD,MAGJ,mBAAGZ,KAAM,IAAKxM,MAAOoN,GAArB,SACI,qBAAK5M,IAAK8N,EAAmBC,IAAK,UAAWvO,MAAO2N,OAExD,mBAAGnB,KAAM,IAAKxM,MAAK,2BAAMoN,IAAN,IAAqB/M,eAAgB,SAAxD,SACI,mBAAGL,MAAOmO,GAAV,uBAGJ,qBAAKnO,MAAOyN,GAAZ,SACI,qBAAKjN,ICrFN,6bDqFqB+N,IAAK,OAAQvO,MAAO2N,GAAY5P,QAASL,KAAKW,cAGtE,cAAC,IAAD,CAAMT,MAAQ,OAAOY,GAAE,YAAvB,SACA,qBAAKwB,MAAOyN,GAAZ,SACI,qBAAKjN,IE1FN,ikDF0FsB+N,IAAK,WAAYvO,MAAO2N,SAGjD,cAAC,IAAD,CAAMnP,GAAG,IAAIgQ,OAAS,KAAtB,SACI,mBAAGhC,KAAM,IAAKxM,MAAOyN,GAArB,SACI,qBAAKjN,IG/FV,itBH+FyB+N,IAAK,UAAWvO,MAAO2N,SAGnD,cAAC9O,EAAA,EAAD,CAAUC,KAAMpB,KAAKjB,MAAM6B,WAAYS,iBAAkB,IAAMC,QAAStB,KAAKa,WAA7E,SACQ,cAACU,EAAA,EAAD,CAAOD,QAAStB,KAAKa,WAAYW,SAAS,OAAOC,GAAI,CAAEC,MAAO,QAA9D,yG,GAlDCpB,IAAMC,W,8BIzCrBwQ,GAAiBlI,uBAAaC,yBAAc,SAACnK,GAC/C,MAA8B2B,IAAMyI,SAAS,IAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0B3I,IAAMyI,SAAS,IAAzC,mBAAOrE,EAAP,KAAcsM,EAAd,KACA,EAAwC1Q,IAAMyI,SAAS,MAAvD,mBAAOkI,EAAP,KAAqBC,EAArB,KACA,EAA8C5Q,IAAMyI,SAAS,CAAEU,IAAK,OAAQC,IAAK,SAAjF,mBAAOyH,EAAP,KAAwBC,EAAxB,KACA,EAAsC9Q,IAAMyI,UAAS,GAArD,mBAAoBsI,GAApB,WACA,EAAoC/Q,IAAMyI,SAAS,GAAnD,mBAAOuI,EAAP,KAAmBC,EAAnB,KACA,EAA4CjR,IAAMyI,UAAS,GAA3D,mBAAOyI,EAAP,KAAuBC,EAAvB,KAGArI,qBAAU,WAGNlK,EAAiB,yBAAyB,IACrCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAM,SAACG,GACJ0R,EAAS1R,GAET,IADA,IAAMoS,EAAa,GACXzR,EAAI,EAAGA,EAAIX,EAAKE,OAAQS,IAAK,CACjCpB,QAAQC,IAAIQ,EAAKW,IAEjB,IADA,IAAIhB,EAAKK,EAAKW,GAAGhB,GACTgJ,EAAI,EAAGA,EAAI3I,EAAKW,GAAGmD,UAAU5D,OAAQyI,IAAK,CAC9C,IAAIwB,EAAMnK,EAAKW,GAAGmD,UAAU6E,GAAG,GAC3ByB,EAAMpK,EAAKW,GAAGmD,UAAU6E,GAAG,GAC/ByJ,EAAW/M,KAAK,CAAC1F,GAAIA,EAAIwK,IAAKA,EAAKC,IAAKA,KAGhD7K,QAAQC,IAAI4S,GACZzI,EAAWyI,QAEpB,IAEHtI,qBAAU,WACc,MAAhB6H,IACAQ,GAAkB,GAClBhS,YAAW,WAAOgS,GAAkB,KAAQ,MAEhD5S,QAAQC,IAAI,oCACb,CAACwS,IAwBJ,OAAQ,eAAC,YAAD,CACI/H,YAAa,EACbC,cAAe,CAAEC,IAAK,OAAQC,IAAK,QAFvC,UAIK8H,GACD,cAAC,KAAD,CACAG,gBAAiB,CAAClI,IAAI0H,EAAgB1H,IAAKC,IAAIyH,EAAgBzH,KAC/DO,QAAS,CAAE2H,YAAY,GAAKC,wBAAwB,GAFpD,SAII,sBAAKvP,MAAO,CAAE0N,gBAAgB,QAAU8B,QAAS,EAAGlC,QAAQ,QAAWvP,QAAW,WAf1E,MAAhB4Q,IACAI,GAAe,GACf5R,YAAW,WAAO4R,GAAe,KAAQ,OAajC,UACI,qBAAK/O,MAAO,CAAEqB,SAAS,OAASoO,UAAU,UAAY7N,WAAW,QAAjE,SACK+M,EAAa9N,QAElB,sBAAKb,MAAO,CAAEqB,SAAS,OAASoO,UAAU,UAAYC,UAAU,UAAhE,iBACSf,EAAahO,YAGtB,sBAAK/C,MAAO,OAAOG,QAAW,kBAAM1B,EAAMsT,SAAShB,EAAahS,KAAhE,UACQ,cAAC,IAAD,CAEIkB,KAAM+R,IACN9R,KAAM,IAEV,qBAAKkC,MAAO,CAAEqB,SAAS,OAASoO,UAAU,WAA1C,mEASf/I,EAAQzF,KAAI,SAACD,EAAIrD,GACd,OAAQ,cAAC,SAAD,CAAQI,QAAW,kBAvDrB,SAACgI,EAAO/E,GAC1B8N,EAAmB,CAAC3H,IAAInG,EAAImG,IAAKC,IAAIpG,EAAIoG,MACzCwH,GAAgB,WAEZ,IADA,IAAIiB,EAAU,KACNlS,EAAG,EAAIA,EAAGyE,EAAMlF,OAAQS,IACzByE,EAAMzE,GAAGhB,IAAM+J,EAAQX,GAAOpJ,KAC7BkT,EAAUzN,EAAMzE,IAKxB,OAFApB,QAAQC,IAAIqT,GACZZ,EAAcD,EAAa,GACpBa,KA4CkCC,CAAcnS,EAAGqD,IAAM6G,SAAY,CAACV,IAAInG,EAAImG,IAAKC,IAAIpG,EAAIoG,MAAazJ,aAgC5GoS,G,kDAxBX,WAAY1T,GAAO,IAAD,8BACd,cAAMA,IACDI,MAAQ,CAACkS,aAAe,MAFf,E,0CAKlB,WAAS,IAAD,OACApG,EAAMC,oJAAYC,yBAA0B,OAASD,oJAAYC,yBAA2B,IAAO,GACvG,OACA,sBAAK3F,UAAU,MAAf,UACA,wBAAQA,UAAU,aAAlB,SACE,cAAC2L,GAAD,CACUkB,SAAY,SAAChT,GAAD,OAAQ,EAAKS,SAAS,CAACuR,aAAehS,KAClD+L,eAAa,EACbC,aAAY,kDAA6CJ,EAA7C,6CACZK,eAAgB,qBAAK5I,MAAO,CAAEO,OAAO,UACrCsI,iBAAkB,qBAAK7I,MAAO,CAAEO,OAA6B,EAArB+L,OAAO0D,YAAgB,EAAG5Q,MAAOkN,OAAO2D,cAChFnH,WAAY,qBAAK9I,MAAO,CAAEO,OAAO,cAG5C7C,KAAKjB,MAAMkS,cAAgB,cAAC,KAAD,CAAU/Q,MAAQ,OAAOY,GAAE,uBAAmBd,KAAKjB,MAAMkS,cAAzD,qD,GApBT3Q,IAAMC,W,0BClGjC,IAwHeiS,G,kDArHX,WAAY7T,GAAQ,IAAD,8BACf,cAAMA,IACDI,MAAQ,CACTkE,SAAU,KACVwP,MAAO,KACPC,SAAU,KACVC,WAAW,EACXC,WAAW,EACXX,UAAU,GAEd,EAAKY,kBAAoB,EAAKA,kBAAkB3Q,KAAvB,gBAVV,E,qDAanB,SAAkB+D,GAAI,IAAD,OACbA,EAAEC,OAAOkC,UAablJ,EAAA,oBAAsC,CAClCuT,MAAOzS,KAAKjB,MAAM0T,MAClBC,SAAU1S,KAAKjB,MAAM2T,WACtBvT,MACC,SAAAyO,GACyC,IAAjCkF,KAAKC,MAAMnF,EAAIC,OAAS,KACxBD,EAAIvO,OAAOF,MACP,SAAAG,GACI,IAAO0T,EAAmB1T,EAAnB0T,QAASC,EAAU3T,EAAV2T,OAChBjV,aAAakV,QAAQ,UAAWF,GAChChV,aAAakV,QAAQ,SAAUD,MAErC9T,MACE,kBAAM,EAAKO,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB6T,WAAW,UAGxD,EAAKlT,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB4T,WAAW,Y,oBAM9D,WAAU,IAAD,OACL,GAAI3S,KAAKjB,MAAM6T,UAAW,CAEtB,IAAIO,EAAUC,aAAWpV,aAAaC,QAAQ,WAK9C,OAJAD,aAAakV,QAAQ,SAAUC,EAAQE,SAEvC5T,YAAW,kBAAM,EAAKC,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBkT,UAAU,SAAS,KAEhE,wBAAQ7M,UAAW,aAAnB,SACH,sBAAKnG,GAAI,SAAT,UACI,oDACA,uBACA,6DACCe,KAAKjB,MAAMkT,UAAY,cAAC,KAAD,CAAUnR,GAAI,WAKlD,OACI,wBAAQsE,UAAW,aAAnB,SACI,sBAAKnG,GAAI,SAAT,UACI,uBAAO4G,QAAS,kBAAmB5G,GAAI,uBAAvC,kCACA,uBACA,uBAAO8G,KAAM,OAAQ9G,GAAI,kBAAmB+G,SACxC,SAAAC,GACI,IAAIqN,EAAMrN,EAAEC,OAAOJ,OAjF/C,SAAiBwN,GACb,MAAO,mDAAmDC,KAAKD,GAiFnCE,CAAQF,GAGR,EAAK5T,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBkE,SAAUqQ,OAF7C,EAAK5T,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB0T,MAAOa,UAOtD,uBACA,uBAAOzN,QAAS,kBAAmB5G,GAAI,uBAAvC,wBACA,uBACA,uBAAO8G,KAAM,WAAY9G,GAAI,kBAAmB+G,SAC5C,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB2T,SAAUzM,EAAEC,OAAOJ,cAG9D,uBACE9F,KAAKjB,MAAM4T,WAAa,qCAC1B,sBAAM1T,GAAI,wBAAyBqD,MAAO,CAACqB,SAAU,OAArD,4CAGI,0BAEJ,wBAAQ1E,GAAI,gBAAiBmJ,UAAapI,KAAKjB,MAAMkE,UAAYjD,KAAKjB,MAAM0T,QAAWzS,KAAKjB,MAAM2T,SAAqB,GAAT,OAAarS,QAASL,KAAK6S,kBAAzI,qBAGA,uBAEA,cAAC,IAAD,CAAM/R,GAAI,kBAAmB7B,GAAI,qBAAsBqG,QAAS,KAAhE,8BAGA,uBACA,cAAC,IAAD,CAAMxE,GAAI,UAAW7B,GAAI,qBAAsBqG,QAAS,KAAxD,8B,GA5GChF,IAAMC,W,OCL3B,SAASiT,GAAQF,GACb,MAAO,mDAAmDC,KAAKD,GAGnE,SAASG,GAAmBxQ,GACxB,OAAIA,EAASzD,OAAS,EACX,4CACE,mBAAmB+T,KAAKtQ,GAG9B,GAFI,wEAKf,SAASyQ,GAAmBhB,GACxB,OAAIA,EAASlT,OAAS,EACX,4CACC,QAAQ+T,KAAKb,GAEZ,QAAQa,KAAKb,GAEb,QAAQa,KAAKb,GAEf,iBAAiBa,KAAKb,GACtB,8CAEJ,GAJI,mCAFA,8CAFA,6C,IAyLAiB,G,kDA7KX,WAAYhV,GAAQ,IAAD,8BACf,cAAMA,IACDI,MAAQ,CACTkE,SAAU,KACVyH,KAAM,KACNkJ,QAAS,KACTnB,MAAO,KACPoB,UAAW,KACXC,UAAW,KACXjG,OAAQ,SACRoE,UAAU,GAEd,EAAKY,kBAAoB,EAAKA,kBAAkB3Q,KAAvB,gBAZV,E,qDAenB,SAAkB+D,GAAI,IrBnDLxI,EAAKC,EqBmDD,OACbuI,EAAEC,OAAOkC,WrBpDA3K,EqBqEC,erBrEIC,EqBqEY,CAC1B+U,MAAOzS,KAAKjB,MAAM0T,MAClB/H,KAAM1K,KAAKjB,MAAM2L,KACjBkJ,QAAS5T,KAAKjB,MAAM6U,QACpB3Q,SAAUjD,KAAKjB,MAAMkE,SACrByP,SAAU1S,KAAKjB,MAAM8U,UACrBE,YAAa/T,KAAKjB,MAAM+U,WrB1E5BrW,EAAIE,WAAW,OACfF,EAAMA,EAAIG,UAAU,IAEjBC,MAAM,GAAD,OAAIN,EAAJ,YAAmBE,GAAO,CAClCK,OAAQ,OACRC,QAAS,CACL,OAAU,mBACV,eAAgB,oBAEpBG,KAAMC,KAAKC,UAAUV,MqBmEpByB,MACG,SAAAyO,GACyC,IAAjCkF,KAAKC,MAAMnF,EAAIC,OAAS,KAExB,EAAKnO,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8O,OAAQ,eAG3C,EAAKnO,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8O,OAAQ,iB,oBAM3D,WAAU,IAAD,OACL,MAA0B,YAAtB7N,KAAKjB,MAAM8O,QACXpO,YAAW,kBAAM,EAAKC,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBkT,UAAU,SAAS,KACvEjU,aAAagW,WAAW,UACxBhW,aAAagW,WAAW,WAEjB,wBAAQ5O,UAAW,aAAnB,SACH,sBAAKnG,GAAI,SAAT,UACI,iEACA,uBACA,8EACA,uBACA,gEACCe,KAAKjB,MAAMkT,UAAY,cAAC,KAAD,CAAUnR,GAAI,kBAKvB,SAAvBd,KAAKjB,MAAM8N,QACJ,wBAAQzH,UAAW,aAAnB,SACH,sBAAKnG,GAAI,SAAT,UACI,6DACA,uBACA,sBAAMA,GAAI,qBAAsBoB,QAC5B,SAAA4F,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8O,OAAQ,eADpD,0BAOJ,wBAAQzI,UAAW,aAAnB,SACJ,sBAAKnG,GAAI,SAAT,UACI,uBAAO4G,QAAS,eAAgB5G,GAAI,oBAApC,sBACA,uBACA,uBAAO8G,KAAM,OAAQ9G,GAAI,eAAgB+G,SACrC,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB0T,MAAOxM,EAAEC,OAAOJ,cAG3D,uBACE9F,KAAKjB,MAAM0T,QAAUe,GAAQxT,KAAKjB,MAAM0T,QAC1C,qCACI,sBAAMxT,GAAI,4BAAV,0CACA,0BAGJ,uBAAO4G,QAAS,kBAAmB5G,GAAI,uBAAvC,wBACA,uBACA,uBAAO8G,KAAM,OAAQ9G,GAAI,kBAAmB+G,SACxC,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBkE,SAAUgD,EAAEC,OAAOJ,cAG9D,uBACE9F,KAAKjB,MAAMkE,UAAYwQ,GAAmBzT,KAAKjB,MAAMkE,WACvD,qCACI,sBAAMhE,GAAI,+BAAV,SAA2CwU,GAAmBzT,KAAKjB,MAAMkE,YACzE,0BAGJ,uBAAO4C,QAAS,cAAe5G,GAAI,mBAAnC,oBACA,uBACA,uBAAO8G,KAAM,OAAQ9G,GAAI,cAAe+G,SACpC,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB2L,KAAMzE,EAAEC,OAAOJ,cAG1D,uBACA,uBAAOD,QAAS,iBAAkB5G,GAAI,sBAAtC,uBACA,uBACA,uBAAO8G,KAAM,OAAQ9G,GAAI,iBAAkB+G,SACvC,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB6U,QAAS3N,EAAEC,OAAOJ,cAG7D,uBACA,uBAAOD,QAAS,mBAAoB5G,GAAI,wBAAxC,wBACA,uBACA,uBAAO8G,KAAM,WAAY9G,GAAI,mBAAoB+G,SAC7C,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8U,UAAW5N,EAAEC,OAAOJ,cAG/D,uBACE9F,KAAKjB,MAAM8U,WAAaH,GAAmB1T,KAAKjB,MAAM8U,YACxD,qCACI,sBAAM5U,GAAI,gCAAV,SAA4CyU,GAAmB1T,KAAKjB,MAAM8U,aAC1E,0BAGJ,uBAAOhO,QAAS,mBAAoB5G,GAAI,wBAAxC,+BACA,uBACA,uBAAO8G,KAAM,WAAY9G,GAAI,mBAAoB+G,SAC7C,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB+U,UAAW7N,EAAEC,OAAOJ,cAG/D,uBACE9F,KAAKjB,MAAM+U,WAAa9T,KAAKjB,MAAM8U,YAAc7T,KAAKjB,MAAM+U,WAC9D,qCACI,sBAAM7U,GAAI,gCAAV,mCACA,0BAGJ,wBACIA,GAAI,gBACJmJ,SAAYpI,KAAKjB,MAAM0T,OAAUzS,KAAKjB,MAAMkE,UAAajD,KAAKjB,MAAM2L,MAAS1K,KAAKjB,MAAM6U,SAAY5T,KAAKjB,MAAM8U,WAAc7T,KAAKjB,MAAM+U,WAAcN,GAAQxT,KAAKjB,MAAM0T,SAAUgB,GAAmBzT,KAAKjB,MAAMkE,YAAayQ,GAAmB1T,KAAKjB,MAAM8U,YAAe7T,KAAKjB,MAAM8U,YAAc7T,KAAKjB,MAAM+U,UAAuB,GAAT,OAC7TzT,QAASL,KAAK6S,kBAHlB,qBAMA,uBACA,cAAC,IAAD,CAAM/R,GAAI,UAAW7B,GAAI,qBAAsBqG,QAAS,KAAxD,sC,GAtKKhF,IAAMC,WCrBrB0T,I,gEACF,WAAYtV,GAAO,IAAD,sBACd,cAAMA,GACN,IAKMlB,EAAMmR,OAAOC,SAASC,KACtBC,EAAMtR,EAAIuR,OAFF,QAGR/P,EAAKgG,SAASxH,EAAIsE,MAAMgN,EAAI,IATpB,OAWd,EAAKhQ,MAAQ,CACTE,GAAIA,EACJiV,QAAS,SAE8BC,GAAxCrJ,oJAAYC,2BACX,EAAKhM,MAAQ,CACTE,GAAIA,EACJiV,QAAS,OAASpJ,oJAAYC,yBAA2B,MAEjE7L,EAAA,wBAAkC,EAAKH,MAAME,IAAM,IAAIE,MAAK,SAAAyF,GAAI,OAAIA,EAAKvF,UAAQF,MACzE,SAAAG,GACI,EAAKI,UAAS,SAAAX,GAAQ,OAAO,2BACtBA,GADe,IAElBqV,KAAM9U,UAxBR,E,qDA8BlB,c,oBAIA,WACI,OAAO,sBAAK8F,UAAU,iBAAf,UACH,qBAAK9C,MAAO,CAAEO,OAA6B,EAArB+L,OAAO0D,YAAgB,GAAI5Q,MAAOkN,OAAO2D,cACnE,sBAAKrS,MAAQ,OAAb,UACI,gCACKF,KAAKjB,MAAMqV,MAAQ,cAAC,EAAD,eAAUpU,KAAKjB,MAAMqV,OACxCpU,KAAKjB,MAAMqV,MAAQ,cAAC,GAAD,CAAkBnV,GAAMe,KAAKjB,MAAME,GAAIoV,SAAYrU,KAAKjB,MAAMqV,KAAKC,cAE3F,gCACKrU,KAAKjB,MAAMqV,MACZ,cAAC,GAAD,CACApJ,eAAa,EACbC,aAAY,kDAA6CjL,KAAKjB,MAAMmV,QAAxD,6CACZhJ,eAAgB,qBAAK5I,MAAO,CAAEO,OAAO,UACrCsI,iBAAkB,qBAAK7I,MAAO,CAAEZ,MAAM,QAAUmB,OAAO,WACvDuI,WAAY,qBAAK9I,MAAO,CAAEO,OAAO,UACjCmG,QACChJ,KAAKjB,MAAMqV,KAAKhR,UAAUG,KAAI,SAACD,EAAIrD,GAAO,MAAO,CAACyK,KAAMpH,EAAI,GAAImG,IAAKnG,EAAI,GAAIoG,IAAKpG,EAAI,SAYtFtD,KAAKjB,MAAMqV,MAAQpU,KAAKjB,MAAMqV,KAAK9P,QAAUtE,KAAKjB,MAAMqV,KAAK9P,OAAO9E,OAAS,GAC3E,cAAC,GAAD,CAAiB8E,OAAUtE,KAAKjB,MAAMqV,KAAK9P,sB,GAjEvChE,IAAMC,YA2EvB+T,G,kDACF,WAAY3V,GAAO,IAAD,8BACd,cAAMA,IAEDI,MAAQ,CACTwV,SAAU5V,EAAMiH,KAAK,GACrB4O,eAAgB,GAChB1Q,KAAMnF,EAAMiH,KAAK,IANP,E,0CASlB,WACI,OAAO,sBAAK1F,MAAQ,UAAb,UACH,sBAAKA,MAAO,OAAZ,UACI,qBAAKA,MAAQ,SAASwB,MAAQ,OAAOmB,OAAS,OAAOC,IAAM,qDAC3D,mBAAGR,MAAS,CAACU,OAAQ,QAArB,SAA+BhD,KAAKjB,MAAMwV,cAE9C,mBAAGrU,MAAQ,cAAX,SAA0BF,KAAKjB,MAAM+E,c,GAhB3BxD,IAAMC,WAuBtBkU,G,kDACF,WAAY9V,GAAO,IAAD,8BACd,cAAMA,IAEDA,MAAQA,EACb,EAAKI,MAAQ,CAETsV,SAAU1V,EAAM0V,SAChBK,gBAAkB,MAGtB,EAAKC,WAAa,EAAKA,WAAWzS,KAAhB,gBAClB,EAAK0S,YAAc,EAAKA,YAAY1S,KAAjB,gBAXL,E,8CAclB,SAAW+D,GACPjG,KAAKN,UAAS,SAAAmV,GACV,OAAO,2BACAA,GADP,IAEI/Q,KAAMmC,EAAEC,OAAOJ,a,yBAK3B,WACI9F,KAAKN,UAAS,SAAAX,GACV,OAAO,2BACAA,GADP,IAEIsV,SAAUtV,EAAMsV,SAASlM,OAAO,CAAC,CAAC,IAAK,KAAMpJ,EAAM+E,aAK3D5E,EAAA,4BAAuCc,KAAKrB,MAAMM,IAAM,CAAC6V,QAAS9U,KAAKjB,MAAM+E,OAC7EjF,QAAQC,IAAR,eAAoBkB,KAAKjB,MAAM+E,KAA/B,kB,oBAGJ,WACI,OACA,sBAAK5D,MAAQ,mBAAb,UACKF,KAAKjB,MAAMsV,SAAS9Q,KACjB,SAACD,EAAIrD,GAAO,OAAQ,cAAC,GAAD,CAAS2F,KAAQtC,GAAYrD,MAErD,sBAAKC,MAAQ,OAAb,UACI,0BAAUoC,MAAS,CAACZ,MAAO,KAAMqE,KAAO,OAAOC,SAAYhG,KAAK2U,aAChE,cAAC,IAAD,CAAMtU,QAAWL,KAAK4U,YAAazU,KAAMgO,IACjChL,MAAM,OACN/C,KAAM,EACNwC,MAAM,oB,GAhDCtC,IAAMC,WAwD/BwU,GAAkB,SAACpW,GACrB,MAA4B2B,IAAMyI,SAAS,GAA3C,mBAAOiM,EAAP,KAAeC,EAAf,KACA,OACA,sBAAK7P,UAAY,kBAAjB,UACI,cAAC,IAAD,CAAMA,UAAY,aAAa/E,QAAW,WACtC4U,GAAU,SAAClG,GAIP,OAHAA,GAAU,GACH,IACHA,GAAOpQ,EAAM2F,OAAO9E,QACjBuP,MAGL5O,KAAM+U,IACA/R,MAAM,OACN/C,KAAM,EACNwC,MAAM,UAEtB,cAAC,IAAD,CAAMwC,UAAY,cAAc/E,QAAW,WACvC4U,GAAU,SAAClG,GAGP,OAFAA,GAAU,EACVA,GAAOpQ,EAAM2F,OAAO9E,WAIlBW,KAAMgV,IACAhS,MAAM,OACN/C,KAAM,EACNwC,MAAM,UAErBjE,EAAM2F,OAAO9E,OAAS,GAAK,qBAAKsD,IAAOnE,EAAM2F,OAAO0Q,SAMvDpM,GAAeC,uBAAaC,yBAAc,SAACnK,GAEjD,OAAO,8BACP,cAAC,YAAD,CAEQ4K,YAAa,EACbC,cAAe,CAAEC,IAAK,GAAIC,IAAK,IAHvC,SAIS/K,EAAMqK,QAAQzF,KAAI,SAACD,EAAIrD,GACpB,OAAQ,cAAC,SAAD,CAASkK,SAAY7G,EAAK2G,QAAS,CAACC,KAAK,sCAAD,OAAuC5G,EAAG,KAAW,KAAOrD,EAAE,GAAK,IAAnE,0HAAsMA,cAQnPgU,M,cCzNf,SAAST,GAAQF,GACb,MAAO,mDAAmDC,KAAKD,GAGnE,IAAM/V,GAAc,UAAYqR,OAAOC,SAASuG,SAAW,QAuF5CC,G,kDApFX,WAAY1W,GAAQ,IAAD,8BACf,cAAMA,IACDI,MAAQ,CACT0T,MAAO,KACPC,SAAU,KACVC,WAAW,EACX9F,SAAS,GAEb,EAAKgG,kBAAoB,EAAKA,kBAAkB3Q,KAAvB,gBARV,E,qDAWnB,SAAkB+D,GAAI,IAAD,OACbA,EAAEC,OAAOkC,UAEbvK,MAAM,GAAD,OAAIN,GAAJ,+BAA8C,CAC/CO,OAAQ,OACRC,QAAS,CACL,OAAU,mBACV,eAAgB,oBAEpBG,KAAMC,KAAKC,UAAU,CACjBqU,MAAOzS,KAAKjB,MAAM0T,UAEvBtT,MACC,SAAAyO,GACyC,IAAjCkF,KAAKC,MAAMnF,EAAIC,OAAS,MACxB,EAAKnO,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8N,SAAS,Y,oBAM5D,WAAU,IAAD,OACL,OAAI7M,KAAKjB,MAAM8N,QACJ,wBAAQzH,UAAW,aAAnB,SACH,sBAAKnG,GAAI,SAAT,UACI,mEACA,uBACA,2EACA,uBACA,cAAC,IAAD,CAAM6B,GAAI,UAAW7B,GAAI,cAAeqG,QAAS,KAAjD,0BAOL,wBAAQF,UAAW,aAAnB,SACH,sBAAKnG,GAAI,SAAT,UACI,uBAAO4G,QAAS,eAAgB5G,GAAI,oBAApC,oCAGA,uBACA,uBAAO8G,KAAM,OAAQ9G,GAAI,eAAgB6G,MAAO9F,KAAKjB,MAAM0T,MAAOzM,SAC9D,SAAAC,GACI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB0T,MAAOxM,EAAEC,OAAOJ,cAG3D,uBAEI9F,KAAKjB,MAAM0T,QAAUe,GAAQxT,KAAKjB,MAAM0T,QAAU,qCAC9C,sBAAMnQ,MAAO,CAACqB,SAAU,OAAxB,2CACA,0BAIJ3D,KAAKjB,MAAM0T,QAAUe,GAAQxT,KAAKjB,MAAM0T,QAAU,qCAC9C,sBAAMnQ,MAAO,CAACqB,SAAU,OAAxB,2CACA,0BAGR,wBAAQ1E,GAAI,gBAAiBmJ,SAAWoL,GAAQxT,KAAKjB,MAAM0T,OAAkB,GAAT,OAAapS,QAASL,KAAK6S,kBAA/F,yBAGA,uBACA,cAAC,IAAD,CAAM/R,GAAI,UAAW7B,GAAI,cAAeqG,QAAS,KAAjD,qBAGA,gC,GA/EahF,IAAMC,WCN7BhD,I,OAAc,UAAYqR,OAAOC,SAASuG,SAAW,SAgF5CE,G,kDA7EX,WAAY3W,GAAQ,IAAD,8BACf,cAAMA,IACDA,MAAQA,EACb,EAAKI,MAAQ,CACT8U,UAAW,KACXC,UAAW,KACXyB,IAAK,EAAK5W,MAAM6W,MAAMjX,OAAOgX,IAC7BE,MAAO,EAAK9W,MAAM6W,MAAMjX,OAAOkX,OAEnC,EAAK5C,kBAAoB,EAAKA,kBAAkB3Q,KAAvB,gBATV,E,qDAanB,SAAkB+D,GAAI,IAAD,OACbA,EAAEC,OAAOkC,UAEbvK,MAAM,GAAD,OAAIN,GAAJ,uCAAsD,CACvDO,OAAQ,OACRC,QAAS,CACL,OAAU,mBACV,eAAgB,oBAEpBG,KAAMC,KAAKC,UAAU,CACjBmX,IAAKvV,KAAKjB,MAAMwW,IAChBE,MAAOzV,KAAKjB,MAAM0W,MAClBC,aAAc1V,KAAKjB,MAAM8U,UACzB8B,gBAAiB3V,KAAKjB,MAAM+U,cAEjC3U,MACC,SAAAyO,GACI,EAAKlO,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8N,SAAS,OAC5CpN,YAAW,kBAAM,EAAKC,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBkT,UAAU,e,oBAK1E,WAAU,IAAD,OACL,OAAIjS,KAAKjB,MAAM8N,QACJ,wBAAQzH,UAAW,aAAnB,SACH,sBAAKnG,GAAI,MAAT,UACI,+DACA,uBACA,4EACA,uBACA,kFACCe,KAAKjB,MAAMkT,UAAY,cAAC,KAAD,CAAUnR,GAAI,WAK3C,wBAAQsE,UAAW,aAAnB,SACH,sBAAKnG,GAAI,MAAT,UACI,uBAAO4G,QAAS,oBAAqB5G,GAAI,yBAAzC,qCAGA,uBACA,uBAAO8G,KAAM,WAAY9G,GAAI,oBAAqB+G,SAC9C,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8U,UAAW5N,EAAEC,OAAOJ,cAEhE,uBACA,uBAAOD,QAAS,oBAAqB5G,GAAI,yBAAzC,sCAGA,uBAEA,uBAAO8G,KAAM,WAAY9G,GAAI,oBAAqB+G,SAC9C,SAAAC,GAAC,OAAI,EAAKvG,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB+U,UAAW7N,EAAEC,OAAOJ,cAEhE,uBACA,wBAAQ7G,GAAI,aAAcmJ,SAAYpI,KAAKjB,MAAM8U,WAAc7T,KAAKjB,MAAM+U,UAAsB,GAAT,OAAazT,QAASL,KAAK6S,kBAAlH,sC,GAtEoBvS,IAAMC,WCApChD,I,OAAc,UAAYqR,OAAOC,SAASuG,SAAW,SAwD5CQ,G,kDArDX,WAAYjX,GAAQ,IAAD,8BACf,cAAMA,IACDA,MAAQA,EACb,EAAKI,MAAQ,CACT8W,qBAAqB,EACrB5D,UAAU,GALC,E,qDASnB,WAAqB,IAAD,OAEhB,EADiBrD,OAAOC,SAASiH,SACHC,MAAM,KAAKhU,MAAM,EAAG,GAAlD,mBAAOwT,EAAP,KAAYE,EAAZ,KAEA5X,MAAM,GAAD,OAAIN,GAAJ,2BAA0C,CAC3CO,OAAQ,OACRC,QAAS,CACL,OAAU,mBACV,eAAgB,oBAEpBG,KAAMC,KAAKC,UAAU,CACjBmX,IAAKA,EACLE,MAAOA,MAEZtW,MACC,SAAAyO,GACI,EAAKlO,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgB8W,qBAAqB,OACxDpW,YAAW,kBAAM,EAAKC,UAAS,SAAAX,GAAK,kCAASA,GAAT,IAAgBkT,UAAU,e,oBAK1E,WACI,OAAO,qCACH,cAAC,GAAD,IACA,wBAAQ7M,UAAW,aAAnB,SACI,qBAAKnG,GAAI,aAAT,SACMe,KAAKjB,MAAM8W,oBACT,qCACI,qEACA,uBACA,4EACA,uBACA,iFACC7V,KAAKjB,MAAMkT,UAAY,cAAC,KAAD,CAAUnR,GAAI,SAPX,wC,GArC9BR,IAAMC,W,UCGzByV,GAAa,cAENC,GAAmB,WAC5B,MAA4C3V,IAAMyI,SAAS,GAA3D,mBAAOmN,EAAP,KAAuBC,EAAvB,KACA,EAA0C7V,IAAMyI,SAAS,GAAzD,mBAAOqN,EAAP,KAAsBC,EAAtB,KACA,EAAkC/V,IAAMyI,SAAS,GAAjD,mBAAOuN,EAAP,KAAkBC,EAAlB,KACA,EAAkCjW,IAAMyI,SAAS,IAAjD,mBAAOyN,EAAP,KAAkBC,EAAlB,KACA,EAAwCnW,IAAMyI,UAAS,GAAvD,mBAAO2N,EAAP,KAAqBC,EAArB,KACA,EAAgDrW,IAAMyI,UAAS,GAA/D,mBAAO6N,EAAP,KAAyBC,EAAzB,KACA,EAA4BvW,IAAMyI,WAAlC,mBAAO/J,EAAP,KAAe8X,EAAf,KACA,EAA0CxW,IAAMyI,WAAhD,mBAAOgO,EAAP,KAAsBC,EAAtB,KACA,EAAgC1W,IAAMyI,WAAtC,mBAAO9F,EAAP,KAAiBgU,EAAjB,KACA,EAAoC3W,IAAMyI,UAAS,GAAnD,mBAAOnI,EAAP,KAAmBsW,EAAnB,KACA,EAA0B5W,IAAMyI,UAAS,GAAzC,mBAAOoO,EAAP,KAAcC,GAAd,KACA,GAAwC9W,IAAMyI,UAAS,GAAvD,qBAAOsO,GAAP,MAAqBC,GAArB,MAEAlO,qBAAU,WACNvL,MAAM,UAAD,OAAWmY,GAAX,mCAAgDhX,GAAU,CAC3DlB,OAAQ,MACRC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,cAElDkB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UACxBF,MAAM,SAACG,GACJA,EAAKwF,MAAK,SAACC,EAAGC,GAAJ,OAAUC,SAASD,EAAE/F,IAAMgG,SAASF,EAAE9F,OAChDwX,EAAanX,GACbiX,EAAajX,EAAKE,QAClBmX,GAAgB,GAChB9X,QAAQC,IAAIQ,QAErB,CAACN,IAEJoK,qBAAU,WACNvL,MAAM,UAAD,OAAWmY,GAAX,8BAA2ChX,GAAU,CACtDlB,OAAQ,MACRC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,cAElDkB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UACxBF,MAAM,SAACG,GACJgY,GAAgBhY,EAAKyD,WACrBkU,EAAY3X,EAAK2D,UACjBkT,EAAkB7W,EAAKiY,cAAc/X,QACrC6W,EAAiB/W,EAAKkY,cAAchY,QACpC,IAAI,IAAIS,EAAG,EAAIA,EAAGX,EAAKkY,cAAchY,OAAQS,IACtCX,EAAKkY,cAAcvX,IAAM8W,GACxBF,GAAoB,GAG5BhY,QAAQC,IAAIQ,QAErB,CAACN,EAAQ4X,IAEZxN,qBAAU,WACN0N,GAAW,WACP,IACIrZ,EAAMmR,OAAOC,SAASC,KACtBC,EAAMtR,EAAIuR,OAFF,QAGR/P,EAAKgG,SAASxH,EAAIsE,MAAMgN,EAAI,IAShC,OANAlQ,QAAQC,IAAI,OAASG,GACrBJ,QAAQC,IAAI,YAAcd,aAAaC,QAAQ,WAC/C+Y,EAAiBhZ,aAAaC,QAAQ,WAClCD,aAAaC,QAAQ,WAAagB,GAClC4X,GAAoB,GAEjB5X,OAEZ,IAEH,IAaM4B,GAAa,WACfqW,GAAc,GACdL,GAAoB,IAGxB,OACI,sBAAKvU,MAAO,CAAE0N,gBAAgB,WAA9B,UACA,qBAAK1N,MAAO,CAAEO,OAA6B,EAArB+L,OAAO0D,YAAgB,GAAI5Q,MAAOkN,OAAO2D,cAC/D,oBAAIjQ,MAAO,CAAEM,MAAM,QAAUoN,gBAAgB,QAAUnN,OAAQ,KAC/D,eAACT,EAAA,EAAD,WACI,eAACC,EAAA,EAAD,CAAKC,MAAO,CAACC,WAAW,UAAxB,UACI,eAACC,EAAA,EAAD,CAAKC,GAAI,EAAT,UACI,sBAAK2C,UAAa,kBAAlB,UAEI,qBAAK/E,QAAW,kBAAM+W,IAAS,SAAAvC,GAAE,OAAKA,MAAK3U,MAAQ,SAASwB,MAAQ,OAAOmB,OAAS,OAAOC,IAAOuU,IAA2B,qDAC5HF,GAAWlS,SAASjH,aAAaC,QAAQ,YAAce,GAAW,qBAAKoG,UAAa,OAAlB,SACnE,uBAAOY,SAAY,SAACC,GAEhB,IAAIgH,EAAW,IAAIO,SACnBP,EAASK,OAAO,QAASrH,EAAEC,OAAOoI,MAAM,IAExCzQ,MAAM,UAAD,OAAWmY,GAAX,2BAAgD,CACrDlY,OAAQ,OACRC,QAAS,CACL,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,YAEjDC,KAAM+O,IAENmK,IAAS,SAAAvC,GAAE,OAAKA,MAEhB9O,KAAK,OAAO9G,GAAG,OAAOsP,OAAO,oBAGrC,qBAAKjM,MAAO,CAAEqB,SAAS,OAASoO,UAAU,UAAY7N,WAAW,QAAjE,SAA6EjB,OAEjF,cAACT,EAAA,EAAD,CAAMC,GAAI,EAAV,SACI,sBAAKH,MAAO,CAAEqB,SAAS,OAASoO,UAAU,WAA1C,wBAAoEqE,OAExE,cAAC5T,EAAA,EAAD,CAAMC,GAAI,EAAV,SACI,sBAAKH,MAAO,CAAEqB,SAAS,OAASoO,UAAU,WAA1C,yBAAqEmE,OAEzE,cAAC1T,EAAA,EAAD,CAAMC,GAAI,EAAV,SACI,sBAAKH,MAAO,CAAEqB,SAAS,OAASoO,UAAU,WAA1C,oBAAgEuE,UAGxE,qBAAKhU,MAAO,CAAEO,OAA6B,EAArB+L,OAAO0D,YAAgB,GAAI5Q,MAAOkN,OAAO2D,cAC9DqE,GAAoB,cAACa,GAAA,EAAD,CAAQnS,QAAQ,YAAYlF,KAAK,KAAKC,QAAS,WA1DxExC,MAAM,UAAD,OAAWmY,GAAX,iCAA8ChX,GAAU,CACzDlB,OAAQ,OACRC,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,OAAhB,OAAwBC,aAAaC,QAAQ,YAEjDC,KAAMC,KAAKC,UAAU,MACtBe,KAAK+X,GAAc,KAkDG,uBAEzB,qBAAK9R,UAAU,aAAf,SACCsR,GAAgBF,EAAUjT,KAAI,SAACD,EAAKrD,GACjC,OAAO,cAAC,EAAD,eAAoBqD,GAAPrD,QAGxB,cAACkB,EAAA,EAAD,CAAUC,KAAMR,EAAYS,iBAAkB,IAAMC,QAAS,kBAAMT,MAAnE,SACI,eAACU,EAAA,EAAD,CAAOD,QAAS,kBAAMT,MAAcW,SAAS,OAAOC,GAAI,CAAEC,MAAO,QAAjE,4CACkCuB,EADlC,aC/HGyU,G,kDApBX,WAAY/Y,GAAO,IAAD,6BACd,cAAMA,IAEDI,MAAQ,CACT4Y,OAAkB3Z,aAAaC,QAAQ,WAG3CiB,EAAiB,gBAAgB,IACjCC,MAAK,SAAAyF,GAAI,OACL,EAAKlF,SAAU,CAACiY,OAAsB,KAAb/S,EAAKiJ,QAAgB7P,aAAaC,QAAQ,eACjEiH,OAAM,SAAA6I,GAAG,OAAIlP,QAAQC,IAAIiP,MAVjB,E,0CAclB,WAEI,OAAQ,+BAAO/N,KAAKjB,MAAM4Y,QAAU,cAAC,KAAD,CAAUzX,MAAQ,OAAOY,GAAE,UAA3B,qB,GAlBnBR,IAAMC,WCoB/BqX,IAASC,OACP,cAAC,IAAD,UACE,eAAC,KAAD,WACA,cAAC,KAAD,CAAO1X,KAAK,IAAI2X,QAAS,gCAAK,cAAC,GAAD,IAAa,cAAC,GAAD,IAAlB,IAA4B,cAAC,EAAD,SACrD,cAAC,KAAD,CAAO3X,KAAK,cAAc2X,QAAS,gCAAK,cAAC,GAAD,IAAa,cAAC,GAAD,IAAlB,IAA4B,cAAC,EAAD,SAC/D,cAAC,KAAD,CAAO3X,KAAK,YAAY2X,QAAS,gCAAK,cAAC,GAAD,IAAa,cAAC,GAAD,IAAlB,IAA4B,cAAC,EAAD,SAC7D,cAAC,KAAD,CAAO3X,KAAK,YAAY2X,QAAS,gCAAK,cAAC,GAAD,IAAa,cAAC,GAAD,IAAlB,IAA4B,cAAC,GAAD,SAC7D,cAAC,KAAD,CAAO3X,KAAK,UAAU2X,QAAS,gCAAK,cAAC,GAAD,IAAU,cAAC,GAAD,SAC9C,cAAC,KAAD,CAAO3X,KAAK,UAAU2X,QAAS,gCAAK,cAAC,GAAD,IAAU,cAAC,GAAD,SAC9C,cAAC,KAAD,CAAO3X,KAAK,kBAAkB2X,QAAS,gCAAK,cAAC,GAAD,IAAU,cAAC,GAAD,SACtD,cAAC,KAAD,CAAO3X,KAAK,sCAAsC2X,QAAS,gCAAK,cAAC,GAAD,IAAU,cAAC,GAAD,SAC1E,cAAC,KAAD,CAAO3X,KAAK,wBAAwB2X,QAAS,gCAAK,cAAC,GAAD,IAAU,cAAC,GAAD,SAC5D,cAAC,KAAD,CAAO3X,KAAK,YAAY2X,QAAS,gCAAK,cAAC,GAAD,IAAL,IAAe,cAAC,GAAD,SAChD,cAAC,KAAD,CAAO3X,KAAK,eAAe2X,QAAS,gCAAK,cAAC,GAAD,IAAL,IAAe,cAAC,GAAD,SACnD,cAAC,KAAD,CAAO3X,KAAK,YAAY2X,QAAS,gCAAK,cAAC,GAAD,IAAa,cAAC,GAAD,IAAlB,IAA4B,cAAC,GAAD,cAG/DC,SAASC,eAAe,SAc1B9I,M","file":"static/js/main.0e36c9ce.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const BACKEND_URL = 'http://' + '3.67.83.253' + ':8000'\n\nexport function post(url, body_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n    return fetch(`${BACKEND_URL}/${url}`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body_json)\n    })\n}\n\nexport function post_jwt(url, body_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n\n    return fetch(`${BACKEND_URL}/${url}`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `JWT ${localStorage.getItem('access')}`\n        },\n        body: JSON.stringify(body_json)\n    })\n}\n\nexport function put(url, body_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n\n    return fetch(`${BACKEND_URL}/${url}`, {\n        method: 'PUT',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body_json)\n    })\n}\n\nexport function put_jwt(url, body_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n\n    return fetch(`${BACKEND_URL}/${url}`, {\n        method: 'PUT',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `JWT ${localStorage.getItem('access')}`\n        },\n        body: JSON.stringify(body_json)\n    })\n}\n\nexport function delete_(url, body_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n\n    return fetch(`${BACKEND_URL}/${url}`, {\n        method: 'DELETE',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body_json)\n    })\n}\n\nexport function delete_jwt(url, body_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n\n    return fetch(`${BACKEND_URL}/${url}`, {\n        method: 'DELETE',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `JWT ${localStorage.getItem('access')}`\n        },\n        body: JSON.stringify(body_json)\n    })\n}\n\nexport function get(url, params_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n    const params = new URLSearchParams(params_json).toString()\n\n    return fetch(`${BACKEND_URL}/${url}${params}`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        }\n    })\n}\n\nexport function get_jwt(url, params_json) {\n    if (url.startsWith('/')) {\n        url = url.substring(1)\n    }\n\n    const params = new URLSearchParams(params_json).toString()\n\n    return fetch(`${BACKEND_URL}/${url}${params}`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `JWT ${localStorage.getItem('access')}`\n        }\n    })\n}\n\n","import React from 'react'\nimport Icon from '@mdi/react'\nimport {Snackbar} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { mdiShareVariantOutline } from '@mdi/js';\nimport { mdiCardsHeartOutline } from '@mdi/js';\nimport { mdiCardsHeart } from '@mdi/js';\nimport { mdiCommentTextOutline } from '@mdi/js';\nimport { mdiAlertCircleOutline } from '@mdi/js';\nimport { mdiBookmarkOutline } from '@mdi/js';\nimport { mdiDragVerticalVariant } from '@mdi/js';\nimport { Link } from \"react-router-dom\";\nimport * as requests from './requests'\n\nclass LikeButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        ...props,\n        liked: false,\n        likeCount: props.likeList ? props.likeList.length: 0,\n        userID: localStorage.getItem('userID'),\n        iconPath: mdiCardsHeartOutline\n    };\n    \n  }\n\n  componentDidMount() {\n    if(this.state.likeList){\n    for(let i = 0; i < this.state.likeList.length; i++) {\n      let innerList = this.state.likeList[i];\n      if (innerList[0] == this.state.userID){\n        //console.log(\"This user has already liked this post\")\n        this.setState({liked: true, iconPath: mdiCardsHeart});\n      }\n    }\n    setTimeout(() => {console.log(this.state.liked)}, 500);\n  }\n    //console.log(this.state.liked);\n    //console.log(this.state.likeList.length)\n  }\n\n  updateLikeNumber = () => {\n    console.log(this.state.userID)\n    console.log(this.state.id)\n    /*\n    fetch(`http://3.125.114.231:8000/api/post/like/${this.state.id}`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            }\n    })*/\n    requests.post_jwt(`/api/post/like/${this.state.id}`,{}).then(response => response.json())\n    .then( (data) => {\n      var likeList = data.likeList;\n      console.log(data);\n      console.log(likeList.length);\n      setTimeout(() => {this.setState({likeCount: data.likeList.length})}, 300);\n      if (!this.state.liked){\n        setTimeout(() => {this.setState({liked: true, iconPath: mdiCardsHeart})}, 300);\n      } else {\n        setTimeout(() => {this.setState({liked: false, iconPath: mdiCardsHeartOutline})}, 300);\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div class= \"row2\">\n        <Icon \n          path={this.state.iconPath} \n          size={2}\n          onClick={this.updateLikeNumber} \n        />\n        <div>\n          {this.state.likeCount}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction VerticalSeperator() {\n    return(\n        <div>\n          <Icon path={mdiDragVerticalVariant} size={2}/>\n        </div>\n    );\n}\n\nclass PostButtons extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      ...props,\n      popupState: false\n    }\n    console.log(this.state);\n  }\n\n  showPopup = () => {\n    this.setState({ popupState: true });\n  };\n\n  closePopup = () => {\n    this.setState({ popupState: false });\n  };\n\n  render(){\n    return(\n      <div>\n        <div class= \"row2\">\n          <LikeButton {...this.props}></LikeButton>\n          <VerticalSeperator></VerticalSeperator>\n          {this.props.id ? \n          <Link class = \"push\" to= {`/viewPost?id=${this.state.id}`}>\n          <Icon \n            path={mdiCommentTextOutline} \n            size={2}\n          />\n          </Link> : <Icon \n            path={mdiCommentTextOutline} \n            size={2}\n          />}\n          <VerticalSeperator></VerticalSeperator>\n          <Icon \n            path={mdiShareVariantOutline} \n            size={2}\n            onClick={this.showPopup} \n          />\n          <VerticalSeperator></VerticalSeperator>\n          <Icon \n            path={mdiBookmarkOutline} \n            size={2}\n            onClick={this.showPopup} \n          />\n          <VerticalSeperator></VerticalSeperator>\n          <Icon \n            path={mdiAlertCircleOutline} \n            size={2}\n            onClick={this.showPopup} \n          />\n        </div>\n        <Snackbar open={this.state.popupState} autoHideDuration={3000} onClose={this.closePopup} >\n            <Alert onClose={this.closePopup} severity=\"info\" sx={{ width: '100%' }}>\n              This feature is not available now and coming soon, thanks heaps for your patience!\n            </Alert>\n        </Snackbar>\n      </div>);\n  }\n\n}\n\nexport default PostButtons;","import React from 'react'\nimport Icon from '@mdi/react'\nimport { mdiMapMarker, mdiClockTimeEight, mdiTag, mdiCardsHeartOutline, mdiCardsHeart, mdiShareVariant,  mdiPencilOutline} from '@mdi/js'\nimport PostButtons from './PostButtons';\nimport Badge from 'react-bootstrap/Badge'\nimport { Link } from \"react-router-dom\";\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\n\nclass Post extends React.Component{\n    constructor(props){\n      super(props);\n      this.props = props;\n    }\n    render(){\n      return (<div class= \"Post\" ><PostUpper {...this.props}/> <PostButtons {...this.props}/></div>);\n    }\n}\n\nclass PostUpper extends React.Component{\n  constructor(props){\n    super(props);\n\n    this.state = {\n      ...props,\n      contentSmall : (props.story && props.story.length > 200) ? props.story.slice(0,200): props.story,\n      continueReading: (props.story && props.story.length > 200),\n    };\n    console.log(this.state);\n    this.getMoreContent = this.getMoreContent.bind(this);\n  }\n\n  getMoreContent(){\n    this.setState(state =>{\n      //let newState = JSON.parse(JSON.stringify(state));\n      let newState = {...state};\n      newState.contentSmall = state.story;\n      newState.continueReading = false;\n      return newState;\n    });\n  }\n\n  render(){\n    //let style = {paddingBottom: \"10px\"};\n    return (\n    <Container>\n      <Container>\n      <Row style={{alignItems: `center`}}>\n        <Col sm={11} style={{alignItems: `center`}}>\n          {this.state.owner && <Link class = \"push\" to= {`/profilePage?id=${this.state.owner}`} style={{ textDecoration: 'none', color: '#000' }}>\n            <img class = \"circle\" width = \"50px\" height = \"50px\" src = {this.props.userPhoto? this.props.userPhoto: \"./static/media/postory_logo_no_text.ec3bad21.png\"} />\n            <a style = {{margin: \"10px\"}}>{this.state.username ? this.state.username : 'ME'}</a>\n          </Link>}\n        </Col>\n        <Col sm={1}>\n          {this.state.owner == localStorage.getItem('userID') &&this.state.id && <Link class = \"push\" to= {`/editPost?id=${this.state.id}`}>\n            <Icon path={mdiPencilOutline}\n              title=\"Edit Post\"\n              size={1}\n              color='#FF8F49'\n              />\n          </Link>}\n        </Col> \n      </Row>\n      </Container>\n      <div class= \"row2 fitText\">\n      \n        {this.state.locations && this.state.locations.filter(obj => typeof obj[0] === 'string' && obj[0] != '').map((obj,i) => {\n          return(\n            <Badge pill bg=\"secondary\" style={{ fontSize: `10px`}}>\n              <Icon path={mdiMapMarker}\n                title=\"Location\"\n                size={0.7}\n                color=\"#53BEC6\"\n              />\n              {obj[0]}\n             </Badge>);\n        })}\n        {this.state.year && \n        <Badge pill bg=\"warning\" style={{ fontSize: `10px`}} text=\"dark\">\n          <Icon path={mdiClockTimeEight}\n            title=\"Years\"\n            size={0.7}\n            color=\"#53BEC6\"\n          />\n          {this.state.year[0]} \n          {this.state.year.length > 1 && '-' + this.state.year[1]} \n        </Badge>}\n        {this.state.tags && this.state.tags.map((obj,i) => {\n          return(\n            <Badge pill bg=\"danger\" style={{ fontSize: `10px`}} >\n              <Icon path={mdiTag}\n                title=\"Tag\"\n                size={0.7}\n                color=\"#53BEC6\"\n              />\n             {obj}\n            </Badge>);\n        })}\n      </div>\n      {this.state.id && <Link class = \"push\" to= {`/viewPost?id=${this.state.id}`} style={{ textDecoration: 'none', color: '#000' }}>\n      <p style= {{width: '100%'}}class = \"mainContent\" ><b style={{ fontSize: `16px`, fontWeight: `bold`}}>{this.state.title ? this.state.title : \"\"}</b></p>\n      </Link>}\n      {!this.state.id && <p style= {{width: '100%'}}class = \"mainContent\" ><b style={{ fontSize: `16px`, fontWeight: `bold`}}>{this.state.title ? this.state.title : \"\"}</b></p>}\n      <a style={{ fontSize: `14px`}} >{this.state.contentSmall? this.state.contentSmall : \"\"}</a>\n      {this.state.continueReading && <a class = \"mainContent\" onClick = {this.getMoreContent}><b> ...Continue Reading</b></a>}\n      <p></p>\n      <div> \n        {this.state.preview &&<div class = \"row2 image\">\n          {this.state.preview.length > 0 && <img width = \"200px\" src = {URL.createObjectURL(this.state.preview[0])} ></img>}\n          {this.state.preview.length > 1 && <img width = \"200px\" src = {URL.createObjectURL(this.state.preview[1])} ></img>}\n        </div>}\n        {!this.state.preview &&<div class = \"row2 image\">\n          <img width = \"200px\" src = {(this.state.images && this.state.images[0]) ? this.state.images[0]: \"\"} ></img>\n          <img width = \"200px\" src = {(this.state.images && this.state.images[0] && this.state.images[1]) ? this.state.images[1]: \"\"}></img>\n        </div>}\n      </div>\n    </Container>);\n  }\n}\n\nclass PostLower extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      clicked: false\n    };\n    this.clickHeart = this.clickHeart.bind(this);\n  }\n\n  clickHeart(){\n    this.setState(state => {\n      return {clicked: !state.clicked};\n    })\n  }\n\n  render(){\n    return(\n      <div class = \"row2\">\n        {!this.state.clicked ?\n        <Icon path={mdiCardsHeartOutline}\n          title=\"Like\"\n          size={2}\n          color=\"#53BEC6\"\n          onClick = {this.clickHeart}\n          /> : \n          <Icon path={mdiCardsHeart}\n          title=\"Like\"\n          size={2}\n          color=\"#53BEC6\"\n          onClick = {this.clickHeart}\n          /> }\n        <Icon path={mdiShareVariant}\n          title=\"Share\"\n          size={2}\n          color=\"#53BEC6\"\n          />\n      </div>\n    )\n  }\n}\n\n\n\nexport default Post;","import logo from './logo.svg';\nimport React from 'react'\nimport Post  from './Post'\nimport './App.css';\nimport PostButtons from './PostButtons';\nimport Icon from '@mdi/react';\nimport {mdiPencilPlusOutline } from '@mdi/js';\nimport * as requests from './requests'\n\nimport { Link } from \"react-router-dom\";\n\nconst backendIP = 'localhost:8000';\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    //Should fetch from the backend, needs post content, username, profile picture, post media, location, time, tags\n    let dummyPost = {story : \"Praesent eu libero et diam mollis placerat sed eget eros. Curabitur commodo purus in lorem fermentum, a suscipit tellus faucibus. Morbi justo nibh, iaculis sed porttitor id, faucibus in lorem. Aenean porttitor imperdiet velit id laoreet. Mauris tortor urna, fermentum eu eros vel, vestibulum malesuada mi. Vivamus venenatis magna nec eleifend hendrerit. Morbi lacinia ligula a quam varius, ac pretium libero semper. Fusce ultrices arcu ut augue sodales vehicula. Fusce pellentesque urna vel arcu facilisis, sed consectetur enim mollis. Nam suscipit euismod elit, ac cursus ex tempor eget. Curabitur aliquet ante orci, at vestibulum leo finibus vel. Praesent ullamcorper pharetra rhoncus. Vestibulum euismod nulla in ligula bibendum aliquam. Curabitur nec varius ligula. Duis feugiat mi risus, eget auctor lacus scelerisque sit amet.\",\n  owner : \"Daniel Jones\", locations: [\"The World\", \"Ankara\"], storyDate: \"2021\", tags: [\"Cool\"] };\n    let posts = []\n    for(let i = 0; i<10;i++){\n      posts.push(dummyPost);\n    }\n    this.state = {\n      posts: posts\n    };\n    //fetch(`http://${backendIP}/api/post/all`).\n    requests.get_jwt('/api/post/all',{}).\n    then(resp => resp.json()).then(data => this.setState(state => {\n      try {\n      let newState = JSON.parse(JSON.stringify(state));\n\n      //Show biggest id post on top\n      data.sort((a, b) => parseInt(b.id) - parseInt(a.id));\n\n\n      newState.posts = data;\n      newState['fetched'] = true;\n\n      return newState;\n      }catch {\n        return state;\n      }\n    })).catch(er => console.log(er));\n    \n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <p>\n            POSTORY\n          </p>\n          {this.state.fetched && this.state.posts.map((obj, i) => {\n            return <Post key = {i} {...obj}></Post>;\n          })}\n          <Link to= \"/createPost\" variant = \"v6\">\n            <Icon class = \"circle homePageCreatePostButton\" path={mdiPencilPlusOutline}\n            title=\"Create a Post\"\n            size={2}\n            color=\"black\"\n            />\n          </Link>\n\n        </header>\n        \n      </div>\n    );\n  }\n\n}\n\n\n\n\nexport default App;\n","import React from 'react'\nimport Icon from '@mdi/react'\nimport { mdiPlus } from '@mdi/js';\nimport './TextChooser.css'\n\nclass TextChooser extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n        this.parentHandler = props.parentHandler;\n        this.sendParent = this.sendParent.bind(this);\n        this.state = {\n            title: '',\n            body: '',\n        }\n\n        this.getEditInfo = this.getEditInfo.bind(this);\n    }\n\n    getEditInfo(info){\n        this.setState({\n            title: info.title,\n            body: info.story\n        });\n    }\n\n    sendParent() {\n        this.props.parentHandler('textChooser', this.state)\n    }\n\n    render() {\n        return (\n            <div id={'textchooser-div'}>\n                <label htmlFor={'textchooser-title'} id={'textchooser-title-label'}>Post title</label>\n                <input value = {this.state.title} type={'text'} id={'textchooser-title'} onChange={\n                    (e) => {\n                        this.setState(state => ({title: e.target.value, body: state.body}))\n                    }\n                }/>\n                <label htmlFor={'textchooser-body'} id={'textchooser-body-label'}>Post body</label>\n                <textarea value = {this.state.body} id={'textchooser-body'} onChange={\n                    (e) => {\n                        this.setState(state => ({title: state.title, body: e.target.value}))\n                    }\n                }/>\n                {/*\n                <button id={'textchooser-plus-button'} onClick={this.sendParent}>\n                    <Icon path={mdiPlus} size={1} id={'textchooser-plus-icon'}/>\n                </button>\n                */}\n            </div>\n        )\n    }\n}\n\nexport default TextChooser;","import React from 'react'\nimport Icon from '@mdi/react'\nimport { mdiPlus } from '@mdi/js';\nimport './TimeChooser.css'\n\nclass TimeChooser extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n        this.parentHandler = props.parentHandler;\n        this.sendParent = this.sendParent.bind(this);\n        this.state = {\n            startYear: null,\n            endYear: null,\n            startMonth: null,\n            endMonth: null,\n            startDay: null,\n            endDay: null,\n            startTime: null,\n            endTime: null,\n        }\n\n        this.getEditInfo = this.getEditInfo.bind(this);\n    }\n\n    getEditInfo(info){\n        const [startYear, endYear] = info.year || [null, null];\n        const [startMonth, endMonth] = info.month || [null, null];\n        const [startDay, endDay] = info.day || [null, null];\n        const [startHour, endHour] = info.hour || [null, null];\n        const [startMinute, endMinute] = info.minute || [null, null];\n        const startTime = startHour && startMinute && `${startHour}:${startMinute}`\n        const endTime = endHour && endMinute && `${endHour}:${endMinute}`\n        this.setState(state => ({startYear, endYear, startMonth, endMonth, startDay, endDay, startTime, endTime}));\n    }\n\n    sendParent() {\n        this.props.parentHandler('timeChooser', this.state)\n    }\n\n    render() {\n        return (\n            <div id={'timechooser-div'}>\n                <div>Choose start and end years</div>\n                <div style={{display: 'flex', flexDirection: 'row', gap: '20px'}}>\n                    <input type=\"number\" min=\"1900\" max=\"2099\" step=\"1\" value={this.state.startYear || \"\"} onChange={\n                        e => this.setState(state => ({...state, startYear: e.target.value.toString()}))\n                    }/>\n                    <input type=\"number\" min=\"1900\" max=\"2099\" step=\"1\" value={this.state.endYear || \"\"}  onChange={\n                        e => this.setState(state => ({...state, endYear: e.target.value.toString()}))\n                    }/>\n                    <button onClick={() => {\n                        this.setState(state => ({...state, startYear: null, endYear: null, startMonth: null, endMonth: null, startDay: null, endDay: null, startTime: null, endTime: null}))\n                    }}>\n                        Clear\n                    </button>\n                </div>\n                { this.state.startYear && this.state.endYear && <>\n                <div>Choose start and end months</div>\n                <div style={{display: 'flex', flexDirection: 'row', gap: '20px'}}>\n                    <input type=\"number\" min=\"1\" max=\"12\" step=\"1\" value={this.state.startMonth || \"\"} onChange={\n                        e => this.setState(state => ({...state, startMonth: e.target.value.toString()}))\n                    }/>\n                    <input type=\"number\" min=\"1\" max=\"12\" step=\"1\" value={this.state.endMonth || \"\"}  onChange={\n                        e => this.setState(state => ({...state, endMonth: e.target.value.toString()}))\n                    }/>\n                    <button onClick={() => {\n                        this.setState(state => ({...state, startMonth: null, endMonth: null, startDay: null, endDay: null, startTime: null, endTime: null}))\n                    }}>\n                        Clear\n                    </button>\n                </div>\n                </>}\n                { this.state.startMonth && this.state.endMonth && <>\n                <div>Choose start and end days</div>\n                <div style={{display: 'flex', flexDirection: 'row', gap: '20px'}}>\n                    <input type=\"number\" min=\"1\" max=\"31\" step=\"1\" value={this.state.startDay || \"\"} onChange={\n                        e => this.setState(state => ({...state, startDay: e.target.value.toString()}))\n                    }/>\n                    <input type=\"number\" min=\"1\" max=\"31\" step=\"1\" value={this.state.endDay || \"\"}  onChange={\n                        e => this.setState(state => ({...state, endDay: e.target.value.toString()}))\n                    }/>\n                    <button onClick={() => {\n                        this.setState(state => ({...state, startDay: null, endDay: null, startTime: null, endTime: null}))\n                    }}>\n                        Clear\n                    </button>\n                </div>\n                </>}\n                { this.state.startDay && this.state.endDay && <>\n                <div>Choose start and end time</div>\n                <div style={{display: 'flex', flexDirection: 'row', gap: '20px'}}>\n                    <input type=\"time\" value={this.state.startTime || \"\"} onChange={\n                        e => this.setState(state => ({...state, startTime: e.target.value.toString()}))\n                    }/>\n                    <input type=\"time\" value={this.state.endTime || \"\"}  onChange={\n                        e => this.setState(state => ({...state, endTime: e.target.value.toString()}))\n                    }/>\n                    <button onClick={() => {\n                        this.setState(state => ({...state, startTime: null, endTime: null}))\n                    }}>\n                        Clear\n                    </button>\n                </div>\n                </>}\n            </div>\n        )\n    }\n}\n\nexport default TimeChooser;","import React from 'react'\nimport Icon from '@mdi/react'\nimport { mdiPlus } from '@mdi/js';\nimport './TagChooser.css'\n\nclass TagChooser extends React.Component{\n    constructor(props){\n        super(props);\n\n        this.parentHandler = props.parentHandler;\n        this.sendParent = this.sendParent.bind(this);\n        \n        this.state = {\n            value: '', // Holds the last entered tag as an input\n            selectedTags: [] // Holds all the tags that are entered by the user\n        };\n\n        this.getEditInfo = this.getEditInfo.bind(this);\n    }\n\n    getEditInfo(info){\n        this.setState({\n            selectedTags : info.tags\n        });\n    }\n\n    sendParent() {\n        {/* Called when user clicks on the plus button placed below the selected tags.\n            It sends all of the entered tags to the parent component (Create Post)*/}\n        this.props.parentHandler('tagChooser', this.state)\n    }\n\n    onChangeValue = event => {\n        {/* Called when when there is change in the input box allows user to enter tag*/}\n        this.setState({ value: event.target.value });\n      };\n\n    clearAllSelectedTags = () => {\n        {/* Called when user clicks on clear all button to clear all the tags that added to the post before*/}\n        this.setState({ selectedTags: [] });\n    };\n\n    removeTag = i => {\n        {/* Called when user clicks on x button next to each tag added previously to the post.\n            It filters the tag that wanted to be removed from selectedTags array returns it */}\n        this.setState(state => {\n          const selectedTags = state.selectedTags.filter((item, j) => i !== j);\n     \n          return {\n            selectedTags,\n          };\n        });\n      };\n\n    addTagToSelectedTags = () => {\n        {/* Called when user clicks on add button to add the last entered location (state.value) the post\n            It then contats the previous selectedLocations list with the last entered location and returns */}\n        this.setState(state => {\n          const selectedTags = state.selectedTags.concat(state.value);\n     \n          return {\n            selectedTags,\n            value: '',\n          };\n        });\n      };\n\n    render(){\n        return(\n            <div id={'tagchooser-div'}>\n                <label htmlFor={'tagchooser-title'} id={'textchooser-title-label'}>#Tags</label>\n                <div class= \"row2\">\n                <input\n                    type=\"text\"\n                    value={this.state.value}\n                    onChange={this.onChangeValue}\n                />\n                <button\n                    type=\"button\"\n                    onClick={this.addTagToSelectedTags}\n                    disabled={!this.state.value}\n                >\n                Add\n                </button>\n                <button \n                    type=\"button\" \n                    onClick={this.clearAllSelectedTags}\n                >\n                Clear All\n                </button>     \n                </div>\n                Selected Tags\n                <ul>\n                    {this.state.selectedTags.map((item, index) => (\n                        <li key={item}>{item}\n                            <button\n                                type=\"button\"\n                                onClick={() => this.removeTag(index)}\n                            >\n                                x\n                            </button>\n                        </li>\n                    ))}\n                 </ul>\n                 {/*\n                 <button id={'tagchooser-plus-button'} onClick={this.sendParent}>\n                    <Icon path={mdiPlus} size={1} id={'tagchooser-plus-icon'}/>\n                </button>  \n                 */}\n            </div>\n        );\n    }\n}\n\nexport default TagChooser;","import React from 'react'\nimport './PeopleChooser.css'\nimport Icon from '@mdi/react'\nimport { mdiPlus } from '@mdi/js';\n\nclass PeopleChooser extends React.Component{\n    constructor(props){\n        super(props);\n\n        this.parentHandler = props.parentHandler;\n        this.sendParent = this.sendParent.bind(this);\n\n        this.state = {\n            value: '', // Holds the last entered tag as an input\n            selectedPeople: [] // Holds all the tags that are entered by the user\n        };\n\n    }\n\n    sendParent() {\n        {/* Called when user clicks on the plus button placed below the selected people.\n            It sends all of the entered people to the parent component (Create Post)*/}\n        this.props.parentHandler('peopleChooser', this.state)\n    }\n\n    onChangeValue = event => {\n        {/* Called when when there is change in the input box allows user to enter a person*/}\n        this.setState({ value: event.target.value });\n      };\n\n    clearAllSelectedPeople = () => {\n        {/* Called when user clicks on clear all button to clear all the people that added to the post before*/}\n        this.setState({ selectedPeople: [] });\n    };\n\n    removePeople= i => {\n        {/* Called when user clicks on x button next to each person added previously to the post.\n            It filters the person that wanted to be removed from selectedPeople array returns it */}\n        this.setState(state => {\n          const selectedPeople = state.selectedPeople.filter((item, j) => i !== j);\n\n          return {\n            selectedPeople,\n          };\n        });\n      };\n\n    addTagToSelectedPeople = () => {\n        {/* Called when user clicks on add button to add the last entered person (state.value) to the post.\n            It then concats the previous selectedPeople list with the last entered person and returns */}\n        this.setState(state => {\n          const selectedPeople = state.selectedPeople.concat(state.value);\n\n          return {\n            selectedPeople,\n            value: '',\n          };\n        });\n      };\n\n    render(){\n        return(\n            <div id={'peoplechooser-div'}>\n                <label htmlFor={'peoplechooser-title'} id={'peoplechooser-title-label'}>People</label>\n                <div class= \"row2\">\n                <input\n                    type=\"text\"\n                    value={this.state.value}\n                    onChange={this.onChangeValue}\n                />\n                <button\n                    type=\"button\"\n                    onClick={this.addTagToSelectedPeople}\n                    disabled={!this.state.value}\n                >\n                Add\n                </button>\n                <button \n                    type=\"button\" \n                    onClick={this.clearAllSelectedPeople}\n                >\n                Clear All \n                </button>    \n                </div>\n                Selected People\n                <ul>\n                    {this.state.selectedPeople.map((item, index) => (\n                        <li key={item}>{item}\n                            <button\n                                type=\"button\"\n                                onClick={() => this.removePeople(index)}\n                            >\n                                x\n                            </button>\n                        </li>\n                    ))}\n                </ul>\n                <button id={'peoplechooser-plus-button'} onClick={this.sendParent}>\n                    <Icon path={mdiPlus} size={1} id={'peoplechooser-plus-icon'}/>\n                </button>  \n            </div>\n        );\n    }\n\n}\n\nexport default PeopleChooser;","import React, { useEffect } from 'react'\nimport './LocationChooser.css'\nimport {TextField, Snackbar} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\n\n\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\n\nconst MapComponent = withScriptjs(withGoogleMap((props) =>{\n    const [markers, setMarkers] = React.useState([]);\n    const [tooManyMarkers, setTooManyMarkers] = React.useState(false);\n    const markersLimit = 7;\n\n\n    useEffect(() => {\n        if(props.editLocations)\n        setAllMarkers(props.editLocations);\n    },[]);\n\n    const deleteMarker = (index) =>{\n        setMarkers(state =>{\n            let newState = [];\n            for(let i =0 ; i< state.length; i++)\n                if(i != index)\n                    newState.push(state[i]);\n            props.setParentLocation(newState);\n            return newState;\n        });\n\n        \n    }\n\n    const addMarker = (e) =>{\n        if(markers.length  < markersLimit)\n            setMarkers(state => {\n                const newState =  [...state, {lat: e.latLng.lat(), lng : e.latLng.lng()}]; \n                props.setParentLocation(newState);\n                return newState;\n            });\n        else {\n            setTooManyMarkers(true);\n        }\n    }\n\n    const setAllMarkers = (locations) =>{\n        setMarkers(locations);\n    }\n\nreturn(<div>\n    <Snackbar open={tooManyMarkers} autoHideDuration={1000} onClose={() => setTooManyMarkers(false)} >\n    <Alert onClose={() => setTooManyMarkers(false)} severity=\"error\" sx={{ width: '100%' }}>\n        You can add at most {markersLimit} Locations.\n    </Alert>\n</Snackbar><GoogleMap\n        \n        defaultZoom={8}\n        defaultCenter={{ lat: 41, lng: 28 }}\n   onClick = {addMarker} >\n        {markers.map((obj,i) => {\n            return (<Marker draggable={true} onDragEnd = {(t, map, coord)  => setMarkers(markers => {markers[i] = {lat: t.latLng.lat(), lng : t.latLng.lng()}; return markers;})} options={{icon:`https://mt.google.com/vt/icon/text=${i+1}&psize=16&font=fonts/arialuni_t.ttf&color=ff330000&name=icons/spotlight/spotlight-waypoint-b.png&ax=44&ay=48&scale=1`}} onClick = {() => deleteMarker(i)}position = {obj} key = {i}/>);\n        })}\n    </GoogleMap>\n    </div>);\n  }\n))\n\n\n\nclass LocationChooser extends React.Component{\n    constructor(props){\n        super(props);\n\n        this.parentHandler = props.parentHandler;\n        this.sendParent = this.sendParent.bind(this);\n\n        this.state = {\n            selectedLocations: [] // Holds all the locations that are entered by the user\n        };\n\n        this.getEditInfo = this.getEditInfo.bind(this);\n        this.mapRef = React.createRef();\n    }\n\n    getEditInfo(info){\n\n        this.setState({\n            edit: true,\n            selectedLocations : info.locations.map((obj) => {return {name: obj[0], lng: obj[2], lat: obj[1]}})\n        });\n\n    }\n\n    sendParent() {\n        {/* Called when user clicks on plus button plcaed below the selected locations.\n            It sends all of the entered locations to the parent component (Create Post)*/}\n        this.props.parentHandler('locationChooser', this.state.selectedLocations.map((obj) => {\n            return {name:obj['name'] ? obj['name']: \"\",longitude: obj['lng'], latitude: obj['lat'] };\n        }))\n    }\n\n\n    setLocations = (locations) => {\n        this.setState({\n              selectedLocations : locations\n          });\n    }\n\n    render(){\n        let key = process.env.REACT_APP_GOOGLE_API_KEY?(`key=` + process.env.REACT_APP_GOOGLE_API_KEY + \"&\") : \"\";\n        return(\n            <div id={'locationchooser-div'}>\n                <div>\n            {this.state.edit && <MapComponent \n                editLocations = {this.state.selectedLocations.map((obj) => {return {lat: obj['lat'], lng: obj['lng']};})}\n                setParentLocation = {this.setLocations}\n                isMarkerShown\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?${key}v=3.exp&libraries=geometry,drawing,places`}\n                loadingElement={<div style={{ height: `100%` }} />}\n                containerElement={<div style={{ height: `200px` }} />}\n                mapElement={<div style={{ height: `100%` }} />}\n                />}\n            {!this.state.edit && <MapComponent \n                setParentLocation = {this.setLocations}\n                isMarkerShown\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?${key}v=3.exp&libraries=geometry,drawing,places`}\n                loadingElement={<div style={{ height: `100%` }} />}\n                containerElement={<div style={{ height: `200px` }} />}\n                mapElement={<div style={{ height: `100%` }} />}\n                />}\n        </div>\n                \n                <a>Please use below if you want to add names to the locations.</a>\n                <div style = {{height: \"200px\"}}class = \"overflow\">\n                <ul>\n                    {this.state.selectedLocations.map((item, index) => (\n                        <li key={index}>{index + 1} \n                            <input value = {this.state.selectedLocations[index]['name']} type='text' onChange = {e => this.setState(\n                                state => {\n                                    let newState = state;\n                                    newState.selectedLocations[index]['name'] = e.target.value;\n                                    return newState;\n                                    \n                                }\n                            )}></input>\n                        </li>\n                    ))}\n                 </ul>\n                 </div>\n            </div>\n        );\n    }\n\n}\n\nexport default LocationChooser;","import React from 'react';\n\nimport Icon from '@mdi/react';\nimport { mdiRhombusSplit, mdiSend } from '@mdi/js';\n\nimport { Link } from \"react-router-dom\";\nimport TextChooser from './TextChooser'\nimport TimeChooser from './TimeChooser';\nimport TagChooser from './TagChooser';\nimport PeopleChooser from './PeopleChooser'\n//import LocationChooser from './LocationChooser'\nimport LocationChooser from './LocationMap'\nimport Post from './Post';\nimport {TextField, Snackbar} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport * as requests from './requests';\n\nconst BACKEND_IP = '3.67.83.253';\n\nclass CreatePost extends React.Component{\n    constructor(props){\n        super(props);\n        \n        this.refStory = React.createRef();\n        this.refLocation = React.createRef();\n        this.refTime = React.createRef();\n        this.refTags = React.createRef();\n\n        this.allRefs = [this.refStory, this.refLocation, this.refTime, this.refTags];\n\n        this.state = {\n            selected : \"Story\",\n            postData: {\n                textChooser: {title : \" \", body: \" \"},\n                locationChooser: [],\n                timeChooser: {startDate : \"\", startTime: \"\"},\n                tagChooser: {selectedTags: []},\n                owner:\"USER\",\n                imageComponent: null\n            }\n        };\n\n        this.handleChildObjectSend = this.handleChildObjectSend.bind(this);\n        this.select = this.select.bind(this);\n        this.sendToBackend = this.sendToBackend.bind(this);\n        this.handleSuccessClose = this.handleSuccessClose.bind(this);\n        this.handleInfoClose = this.handleInfoClose.bind(this);\n        this.prepareObjectToSend = this.prepareObjectToSend.bind(this);\n    }\n\n    handleChildObjectSend(whichComponent, childObj){\n        const infoDict = {\n            \"textChooser\": \"Story text Content\",\n            \"locationChooser\": \"Location Content\",\n            \"timeChooser\": \"Time Content\",\n            \"peopleChooser\": \"People Content\",\n            \"tagChooser\": \"Tag Content\",\n            \"imageComponent\": \"Image Content\"\n        };\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            let newObj = {...state};\n            newObj.postData[whichComponent] = childObj;\n\n            //problem code\n            if(whichComponent == 'locationChooser')\n                newObj.postData[whichComponent] = childObj;\n            //problem code\n            newObj['addedInformation'] = true;\n            newObj['whichInfo'] = infoDict[whichComponent];\n\n            return newObj;\n        });\n\n        \n    }\n\n    select(obj){\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            //newObj['selected'] = obj;\n            return {\n                ...state,\n                selected: obj\n            };\n        });\n    }\n\n    handleSuccessClose(){\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            //newObj['success'] = false;\n            return {\n                ...state,\n                success: null\n            };\n        });\n    }\n\n\n    handleInfoClose(){\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            //newObj['addedInformation'] = false;\n            return {\n                ...state,\n                addedInformation: false\n            };\n        });\n    }\n\n    prepareObjectToSend(){\n        /*\n        if(this.state.postData[\"timeChooser\"][\"startDate\"] == null){\n            \n            return ({\n                title: this.state.postData[\"textChooser\"][\"title\"],\n                story: this.state.postData[\"textChooser\"][\"body\"],\n                owner: this.state.postData[\"owner\"],\n                locations: this.state.postData[\"locationChooser\"],\n                storyDate: (new Date()).toISOString(),\n                editDate: (new Date()).toISOString(),\n                postDate: (new Date()).toISOString(),\n                tags: this.state.postData[\"tagChooser\"][\"selectedTags\"],\n                //images: this.state.postData['imageComponent'],\n                preview: this.state.postData['imageComponent']\n            });\n        }*/\n        let obj = {\n            title: this.state.postData[\"textChooser\"][\"title\"],\n            story: this.state.postData[\"textChooser\"][\"body\"],\n            owner: this.state.postData[\"owner\"],\n            locations: this.state.postData[\"locationChooser\"],\n            startYear: this.state.postData[\"timeChooser\"][\"startYear\"],\n            endYear: this.state.postData[\"timeChooser\"][\"endYear\"] , \n            startMonth: this.state.postData[\"timeChooser\"][\"startMonth\"],\n            endMonth: this.state.postData[\"timeChooser\"][\"endMonth\"] , \n            startDay: this.state.postData[\"timeChooser\"][\"startDay\"],\n            endDay: this.state.postData[\"timeChooser\"][\"endDay\"] , \n            startTime: this.state.postData[\"timeChooser\"][\"startTime\"],\n            endTime: this.state.postData[\"timeChooser\"][\"endTime\"] , \n            //storyDate: this.state.postData[\"timeChooser\"][\"startDate\"] + \"T\" +this.state.postData[\"timeChooser\"][\"startTime\"] + \":0.0Z\" ,\n            //editDate: this.state.postData[\"timeChooser\"][\"startDate\"] + \"T\" +this.state.postData[\"timeChooser\"][\"startTime\"] + \":0.0Z\",\n            //postDate: this.state.postData[\"timeChooser\"][\"startDate\"] + \"T\" +this.state.postData[\"timeChooser\"][\"startTime\"] + \":0.0Z\",\n            tags: this.state.postData[\"tagChooser\"][\"selectedTags\"],\n            //images: this.state.postData['imageComponent'],\n            preview: this.state.postData['imageComponent']\n        };\n        let objectToSend = {};\n        for(let key in obj){\n            if(obj[key])\n                objectToSend[key] = obj[key];\n        }\n\n\n        return (objectToSend);\n    }\n\n\n\n    sendToBackend(){\n        // send this.state.postData to backend\n        \n\n        const objectToSend = this.prepareObjectToSend();\n\n\n        const getFormData = object => Object.keys(object).reduce((formData, key) => {\n            if ( key.includes('Year')){\n                formData.append('year', object[key]);\n            }else if (key.includes('Month')){\n                formData.append('month', object[key]);\n            }else if (key.includes('Day')){\n                formData.append('day', object[key]);\n            }\n            else if(key == 'locations'  )\n                for(let el in object[key])\n                    formData.append(key, JSON.stringify(object[key][el]));\n            else if(key == 'tags')\n                for(let el in object[key])\n                    formData.append(key, object[key][el]);\n            else\n                formData.append(key, object[key]);\n            return formData;\n        }, new FormData());\n\n        let formData = getFormData(objectToSend);\n\n        let at_least_one = 0;\n        for(const key in objectToSend.preview){\n            if(objectToSend.preview[key] instanceof File){\n                at_least_one = 1;\n                formData.append('images', objectToSend.preview[key]);\n            }\n        }\n\n        if(!at_least_one)\n            formData.set('images', []);\n\n        //formData.set('locations', formData.getAll('locations') || []);\n        //formData.set('tags', formData.getAll('tags') || []);\n        //requests.post_jwt(`/api/post/create`, formData)\n        fetch(`http://${BACKEND_IP}:8000/api/post/create`, {\n            method: 'POST',\n            headers: {\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            },\n            body: formData\n        }).then(res => {\n            if(res.status != 200){\n                console.log(\"ERROR\" + res.data);\n                this.setState(state => {\n                    return {\n                        ...state,\n                        success: false,\n                        creationError: `Response Status:  ${res.status} \\n` + JSON.stringify(res)\n                    };\n                });\n            }else {\n                console.log(\"Post SUCCESS.\")\n                this.setState(state => {\n                    return {\n                        ...state,\n                        success: true\n                    };\n                });\n            }\n\n        })\n        .catch(err => {\n            this.setState(state => {\n                return {\n                    ...state,\n                    success: false,\n                    creationError: err\n                };\n            });\n            console.log(\"ERRRor\" + err);\n        });\n        \n        \n    }\n\n\n    render(){\n\n        return(\n            <header className=\"App-header\">\n            <div class = \"row2 someSpacing\">\n                <div class = \"inputArea\">\n                    <div class = {(this.state['selected'] != 'Story')? \"hide\": \"\"}><TextChooser ref = {this.refStory} parentHandler = {this.handleChildObjectSend}/> </div>\n                    <div class = {(this.state['selected'] != 'Location')? \"hide\": \"\"}><LocationChooser ref = {this.refLocation} parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'Time')? \"hide\": \"\"}><TimeChooser ref = {this.refTime} parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'People')? \"hide\": \"\"}><PeopleChooser  parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'Tags')? \"hide\": \"\"}><TagChooser ref = {this.refTags} parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'Images')? \"hide\": \"\"}><ImageComponent  parentHandler = {this.handleChildObjectSend}/></div>\n                    {this.state['selected'] == 'Preview' && <div ><PostPreviewComponent key = {this.state.postData.owner} postObject = {this.prepareObjectToSend()} parentHandler = {this.handleChildObjectSend}/></div>}\n                    \n                </div>\n                <div class = \"buttons col\">\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Story')}}>Story</button>\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Location')}}>Location</button>\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Time')}}>Time</button>\n                    {/*<button class = \"createPostBtn\" onClick = {() => {this.select('People')}}>People</button>*/}\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Tags')}}>Tags</button>\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Images')}}>Images</button>\n                    <button class = \"createPostBtn\" onClick = {() => {\n                        this.refStory.current.sendParent();\n                        this.refLocation.current.sendParent();\n                        this.refTime.current.sendParent();\n                        this.refTags.current.sendParent();\n                        \n\n                        this.select('Preview');\n                        }}>Preview</button>\n                    \n                    {/*<TextField id=\"userNameField\" label=\"Enter Your Name\" variant=\"filled\" focused \n                        onChange = {(e) => this.setState(state => {\n                            let postData = state.postData;\n                            return {\n                                ...state,\n                                postData: {\n                                    ...postData,\n                                    owner: e.target.value\n                                }\n                            };\n                        \n                        })}/>*/}\n                </div>\n                \n\n                {/*\n                <Snackbar open={this.state.addedInformation} autoHideDuration={1000} onClose={this.handleInfoClose} >\n                    <Alert onClose={this.handleInfoClose} severity=\"success\" sx={{ width: '100%' }}>\n                        Information about {this.state.whichInfo} is added to your post.\n                    </Alert>\n                </Snackbar>\n                */}\n\n\n                <Snackbar open={this.state.success == false} autoHideDuration={1000} onClose={this.handleSuccessClose} >\n                    <Alert onClose={this.handleSuccessClose} severity=\"error\" sx={{ width: '100%' }}>\n                        Your post could not be created. See below for the error message:\n                        {this.state.creationError}\n                    </Alert>\n                </Snackbar>\n\n                <Snackbar open={this.state.success} autoHideDuration={1000} onClose={this.handleSuccessClose} >\n                    <Alert onClose={this.handleSuccessClose} severity=\"success\" sx={{ width: '100%' }}>\n                        Your post is successfully created.\n                    </Alert>\n                </Snackbar>\n                \n                <Link to= \"/createPost\" variant = \"v6\">\n                    <Icon onClick = {() =>{\n                    this.refStory.current.sendParent();\n                    this.refLocation.current.sendParent();\n                    this.refTime.current.sendParent();\n                    this.refTags.current.sendParent();\n                    setTimeout( this.sendToBackend, 10);\n                    }\n                } class = \"circle homePageCreatePostButton\" path={mdiSend}\n                        title=\"Post\"\n                        size={2}\n                        color=\"black\"\n                    />\n                </Link>\n                \n            \n            </div>\n            </header>\n        );\n    }\n\n}\n\nclass ImageComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.handleFileChange = this.handleFileChange.bind(this);\n    }\n\n    handleFileChange(e){\n        this.props.parentHandler('imageComponent',e.target.files);\n    }\n\n    render(){\n        return(\n            <div>\n            <p>Please select suitable images for the post using the button below.</p>\n                <input \n            type=\"file\" id=\"file\" \n            accept=\".jpg, .png\"\n            multiple\n            onChange={this.handleFileChange}\n            />\n            </div>\n        );\n    }\n}\n\n\nclass PostPreviewComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            value: props\n        };\n    }\n\n    static getDerivedStateFromProps(props, current_state) {\n        if (current_state.value !== props) {\n          return {\n            value: props\n          }\n        }\n        return null\n      }\n\n\n    render(){\n        return(\n            <div>\n                <Post {...this.props.postObject} ></Post>\n            </div>\n        );\n    }\n}\n\nexport default CreatePost;","import React from 'react';\n\nimport Icon from '@mdi/react';\nimport { mdiRhombusSplit, mdiSend } from '@mdi/js';\n\nimport { Link } from \"react-router-dom\";\nimport TextChooser from './TextChooser'\nimport TimeChooser from './TimeChooser';\nimport TagChooser from './TagChooser';\nimport PeopleChooser from './PeopleChooser'\nimport LocationChooser from './LocationMap'\nimport Post from './Post';\nimport {TextField, Snackbar} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport * as requests from './requests'\n\nconst BACKEND_IP = '3.67.83.253';\n\nclass EditPost extends React.Component{\n    constructor(props){\n        super(props);\n\n        console.log(window.location.href);\n        const regex = /id=/g;\n        const url = window.location.href;\n        const idx = url.search(regex);\n        const id = parseInt(url.slice(idx+3));\n        console.log(url.slice(idx+3));\n\n        this.refStory = React.createRef();\n        this.refLocation = React.createRef();\n        this.refTime = React.createRef();\n        this.refTags = React.createRef();\n\n        this.allRefs = [this.refStory, this.refLocation, this.refTime, this.refTags];\n\n        this.state = {\n            id: id,\n            selected : \"Story\",\n            postData: {\n                textChooser: {title : \" \", body: \" \"},\n                locationChooser: [],\n                timeChooser: {\n                    startYear: null,\n                    endYear: null,\n                    startMonth: null,\n                    endMonth: null,\n                    startDay: null,\n                    endDay: null,\n                    startTime: null,\n                    endTime: null,\n                },\n                tagChooser: {selectedTags: []},\n                owner:\"USER\",\n                imageComponent: null\n            }\n        };\n\n        this.handleChildObjectSend = this.handleChildObjectSend.bind(this);\n        this.select = this.select.bind(this);\n        this.sendToBackend = this.sendToBackend.bind(this);\n        this.handleSuccessClose = this.handleSuccessClose.bind(this);\n        this.handleInfoClose = this.handleInfoClose.bind(this);\n        this.prepareObjectToSend = this.prepareObjectToSend.bind(this);\n    }\n\n    componentDidMount(){\n        //fetch(`http://${backendIP}/api/post/get/${this.state.id}`).\n        requests.get_jwt(`/api/post/get/${this.state.id}`,{}).then(resp => resp.json()).then(\n            data => {\n                this.setState(state=>{return {\n                    ...state,\n                    postData: {\n                        ...state.postData,\n                        owner: data.owner\n                    }\n                }});\n                this.refLocation.current.getEditInfo(data);\n                data.locations = data.locations.map( (obj, i) => obj[0]);\n                console.log(data);\n                this.refStory.current.getEditInfo(data);\n                this.refTags.current.getEditInfo(data);\n                \n                this.refTime.current.getEditInfo(data);\n            }\n        );\n    }\n\n    handleChildObjectSend(whichComponent, childObj){\n        const infoDict = {\n            \"textChooser\": \"Story text Content\",\n            \"locationChooser\": \"Location Content\",\n            \"timeChooser\": \"Time Content\",\n            \"peopleChooser\": \"People Content\",\n            \"tagChooser\": \"Tag Content\",\n            \"imageComponent\": \"Image Content\"\n        };\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            let newObj = {...state};\n            newObj.postData[whichComponent] = childObj;\n\n            //problem code\n            if(whichComponent == 'locationChooser')\n                newObj.postData[whichComponent] = childObj;\n            //problem code\n            newObj['addedInformation'] = true;\n            newObj['whichInfo'] = infoDict[whichComponent];\n\n            return newObj;\n        });\n\n        \n    }\n\n    select(obj){\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            //newObj['selected'] = obj;\n            return {\n                ...state,\n                selected: obj\n            };\n        });\n    }\n\n    handleSuccessClose(){\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            //newObj['success'] = false;\n            return {\n                ...state,\n                success: null\n            };\n        });\n    }\n\n\n    handleInfoClose(){\n        this.setState(state => {\n            //let newObj =  JSON.parse(JSON.stringify(state));\n            //newObj['addedInformation'] = false;\n            return {\n                ...state,\n                addedInformation: false\n            };\n        });\n    }\n\n    prepareObjectToSend(){\n        /*\n        if(this.state.postData[\"timeChooser\"][\"startDate\"] == null){\n            \n            return ({\n                title: this.state.postData[\"textChooser\"][\"title\"],\n                story: this.state.postData[\"textChooser\"][\"body\"],\n                owner: this.state.postData[\"owner\"],\n                locations: this.state.postData[\"locationChooser\"],\n                storyDate: (new Date()).toISOString(),\n                editDate: (new Date()).toISOString(),\n                postDate: (new Date()).toISOString(),\n                tags: this.state.postData[\"tagChooser\"][\"selectedTags\"],\n                //images: this.state.postData['imageComponent'],\n                preview: this.state.postData['imageComponent']\n            });\n        }*/\n        let obj = {\n            title: this.state.postData[\"textChooser\"][\"title\"],\n            story: this.state.postData[\"textChooser\"][\"body\"],\n            owner: this.state.postData[\"owner\"],\n            locations: this.state.postData[\"locationChooser\"],\n            startYear: this.state.postData[\"timeChooser\"][\"startYear\"],\n            endYear: this.state.postData[\"timeChooser\"][\"endYear\"] , \n            startMonth: this.state.postData[\"timeChooser\"][\"startMonth\"],\n            endMonth: this.state.postData[\"timeChooser\"][\"endMonth\"] , \n            startDay: this.state.postData[\"timeChooser\"][\"startDay\"],\n            endDay: this.state.postData[\"timeChooser\"][\"endDay\"] , \n            startTime: this.state.postData[\"timeChooser\"][\"startTime\"],\n            endTime: this.state.postData[\"timeChooser\"][\"endTime\"] , \n            //storyDate: this.state.postData[\"timeChooser\"][\"startDate\"] + \"T\" +this.state.postData[\"timeChooser\"][\"startTime\"] + \":0.0Z\" ,\n            //editDate: this.state.postData[\"timeChooser\"][\"startDate\"] + \"T\" +this.state.postData[\"timeChooser\"][\"startTime\"] + \":0.0Z\",\n            //postDate: this.state.postData[\"timeChooser\"][\"startDate\"] + \"T\" +this.state.postData[\"timeChooser\"][\"startTime\"] + \":0.0Z\",\n            tags: this.state.postData[\"tagChooser\"][\"selectedTags\"],\n            //images: this.state.postData['imageComponent'],\n            preview: this.state.postData['imageComponent']\n        };\n        let objectToSend = {};\n        for(let key in obj){\n            if(obj[key])\n                objectToSend[key] = obj[key];\n        }\n\n\n        return (objectToSend);\n    }\n\n\n\n    sendToBackend(){\n        // send this.state.postData to backend\n        \n\n        const objectToSend = this.prepareObjectToSend();\n\n\n        const getFormData = object => Object.keys(object).reduce((formData, key) => {\n            if ( key.includes('Year')){\n                formData.append('year', object[key]);\n            }else if (key.includes('Month')){\n                formData.append('month', object[key]);\n            }else if (key.includes('Day')){\n                formData.append('day', object[key]);\n            }\n            else if(key == 'locations'  )\n                for(let el in object[key])\n                    formData.append(key, JSON.stringify(object[key][el]));\n            else if(key == 'tags')\n                for(let el in object[key])\n                    formData.append(key, object[key][el]);\n            else\n                formData.append(key, object[key]);\n            return formData;\n        }, new FormData());\n\n        \n\n        \n        let formData = getFormData(objectToSend);\n\n        console.log(formData.getAll('tags'));\n        let at_least_one = 0;\n        for(const key in objectToSend.preview){\n            if(objectToSend.preview[key] instanceof File){\n                at_least_one = 1;\n                formData.append('images', objectToSend.preview[key]);\n            }\n        }\n\n        if(!at_least_one)\n            formData.set('images', []);\n\n\n        console.log(...formData);\n        fetch(`http://${BACKEND_IP}:8000/api/post/put/${this.state.id}`, {\n            method: 'PUT',\n            headers: {\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            },\n            body: formData\n        }).then(res => {\n            if(res.status != 200){\n                console.log(\"ERROR\" + res.data);\n                this.setState(state => {\n                    return {\n                        ...state,\n                        success: false,\n                        creationError: `Response Status:  ${res.status} \\n` + JSON.stringify(res)\n                    };\n                });\n            }else {\n                console.log(\"Post SUCCESS.\")\n                //http://35.158.95.81:8000/api/post/delete/<int:id>\n\n                \n                this.setState(state => {\n                    return {\n                        ...state,\n                        success: true\n                    };\n                });\n            }\n\n        })\n        .catch(err => {\n            this.setState(state => {\n                return {\n                    ...state,\n                    success: false,\n                    creationError: err\n                };\n            });\n            console.log(\"ERRRor\" + err);\n        });\n        \n        \n    }\n\n\n    render(){\n\n        return(\n            <header className=\"App-header\">\n            <div class = \"row2 someSpacing\">\n                <div class = \"inputArea\">\n                    <div class = {(this.state['selected'] != 'Story')? \"hide\": \"\"}><TextChooser ref = {this.refStory} parentHandler = {this.handleChildObjectSend}/> </div>\n                    <div class = {(this.state['selected'] != 'Location')? \"hide\": \"\"}><LocationChooser ref = {this.refLocation} parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'Time')? \"hide\": \"\"}><TimeChooser ref = {this.refTime} parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'People')? \"hide\": \"\"}><PeopleChooser  parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'Tags')? \"hide\": \"\"}><TagChooser ref = {this.refTags} parentHandler = {this.handleChildObjectSend}/></div>\n                    <div class = {(this.state['selected'] != 'Images')? \"hide\": \"\"}><ImageComponent  parentHandler = {this.handleChildObjectSend}/></div>\n                    {this.state['selected'] == 'Preview' && <div ><PostPreviewComponent key = {this.state.postData.owner} postObject = {this.prepareObjectToSend()} parentHandler = {this.handleChildObjectSend}/></div>}\n                    \n                </div>\n                <div class = \"buttons col\">\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Story')}}>Story</button>\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Location')}}>Location</button>\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Time')}}>Time</button>\n                    {/*<button class = \"createPostBtn\" onClick = {() => {this.select('People')}}>People</button>*/}\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Tags')}}>Tags</button>\n                    <button class = \"createPostBtn\" onClick = {() => {this.select('Images')}}>Images</button>\n                    <button class = \"createPostBtn\" onClick = {() => {\n                        this.refStory.current.sendParent();\n                        this.refLocation.current.sendParent();\n                        this.refTime.current.sendParent();\n                        this.refTags.current.sendParent();\n                        \n\n                        this.select('Preview');\n                        }}>Preview</button>\n                    \n                    {/*<TextField id=\"userNameField\" label=\"Enter Your Name\" variant=\"filled\" focused \n                        onChange = {(e) => this.setState(state => {\n                            let postData = state.postData;\n                            return {\n                                ...state,\n                                postData: {\n                                    ...postData,\n                                    owner: e.target.value\n                                }\n                            };\n                        \n                        })}/>*/}\n                </div>\n                \n\n                {/*\n                <Snackbar open={this.state.addedInformation} autoHideDuration={1000} onClose={this.handleInfoClose} >\n                    <Alert onClose={this.handleInfoClose} severity=\"success\" sx={{ width: '100%' }}>\n                        Information about {this.state.whichInfo} is added to your post.\n                    </Alert>\n                </Snackbar>\n                */}\n\n\n                <Snackbar open={this.state.success == false} autoHideDuration={5000} onClose={this.handleSuccessClose} >\n                    <Alert onClose={this.handleSuccessClose} severity=\"error\" sx={{ width: '100%' }}>\n                        Your post could not be created. See below for the error message:\n                        {this.state.creationError}\n                    </Alert>\n                </Snackbar>\n\n                <Snackbar open={this.state.success} autoHideDuration={5000} onClose={this.handleSuccessClose} >\n                    <Alert onClose={this.handleSuccessClose} severity=\"success\" sx={{ width: '100%' }}>\n                        Your post is successfully created.\n                    </Alert>\n                </Snackbar>\n                \n                <Link to= {`/editPost?id=${this.state.id}`} variant = \"v6\">\n                    <Icon onClick = {() =>{\n                    this.refStory.current.sendParent();\n                    this.refLocation.current.sendParent();\n                    this.refTime.current.sendParent();\n                    this.refTags.current.sendParent();\n\n                    setTimeout( this.sendToBackend, 10);\n                    }\n                } class = \"circle homePageCreatePostButton\" path={mdiSend}\n                        title=\"Post\"\n                        size={2}\n                        color=\"black\"\n                    />\n                </Link>\n                \n            \n            </div>\n            </header>\n        );\n    }\n\n}\n\nclass ImageComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.handleFileChange = this.handleFileChange.bind(this);\n    }\n\n    handleFileChange(e){\n        this.props.parentHandler('imageComponent',e.target.files);\n    }\n\n    render(){\n        return(\n            <div>\n            <p>Please select suitable images for the post using the button below.</p>\n                <input \n            type=\"file\" id=\"file\" \n            accept=\".jpg, .png\"\n            multiple\n            onChange={this.handleFileChange}\n            />\n            </div>\n        );\n    }\n}\n\n\nclass PostPreviewComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            value: props\n        };\n    }\n\n    static getDerivedStateFromProps(props, current_state) {\n        if (current_state.value !== props) {\n          return {\n            value: props\n          }\n        }\n        return null\n      }\n\n\n    render(){\n        return(\n            <div>\n                <Post {...this.props.postObject} ></Post>\n            </div>\n        );\n    }\n}\n\nexport default EditPost;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/postory_logo_no_text.ec3bad21.png\";","import React from 'react';\nimport magnifyIcon from './magnify_icon.png';\nimport {Snackbar} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\n\n// text area\nconst itemStyleLeft = {\n    float: 'left',\n    height: '100%',\n    width: '75%',\n    margin: 0,\n    padding: 0,\n    boxSizing: 'border-box',\n    border: '1px solid black'\n}\n\n// submit button\nconst itemStyleRight = {\n    float: 'right',\n    height: '100%',\n    width: '25%',\n    margin: 0,\n    padding: 0,\n    backgroundColor: 'white',\n    boxSizing: 'border-box',\n    border: '1px solid black',\n}\n\n// fits to parent div\nconst imageStyle = {\n    maxHeight: '100%',\n    maxWidth: '100%'\n}\n\nclass SearchBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n\n        this.state = {\n            popupState: false\n          }\n    }\n\n    showPopup = () => {\n        this.setState({ popupState: true });\n      };\n    \n      closePopup = () => {\n        this.setState({ popupState: false });\n      };\n\n    render() {\n        return (\n            <div style={{height: '100%', width: '100%'}}>\n                <input type={'text'} placeholder={' Search'} name={'input'} style={itemStyleLeft}/>\n                <button style={itemStyleRight}>\n                    <img \n                        src={magnifyIcon} \n                        style={imageStyle}\n                        onClick={this.showPopup} \n                        />\n                </button>\n                <Snackbar open={this.state.popupState} autoHideDuration={3000} onClose={this.closePopup} >\n                    <Alert onClose={this.closePopup} severity=\"info\" sx={{ width: '100%' }}>\n                         This feature is not available now and coming soon, thanks heaps for your patience!\n                    </Alert>\n                </Snackbar>\n            </div>\n        )\n    }\n}\n\nexport default SearchBar","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAACDElEQVRo3u2Zu0oDQRSGPyOpDBjtJGgnUSxVEDRleht9AX0FL53aaWWh+BDaWHqJEQufIYqFoIhYR7AQjMXsYjy72exmdmZF5ocpzlzO/P+cmdk5LDg4ODhkiT6NsWVgEagCJWDUq38GXoBL4BS4z1qkxAxwBbRilltgPmvSAHngCPhKQN4vX8Ch5yMTDAPXPRCXpQ4M2SafjyB/DqygzsOAV8rAqtfWSYTVSByFkGgACzHGLnh95fgDW+RnCe75OjCYwMegN0aeiWkbAuTEjYTkfRQJRuLSNPlJgqGPs206YY5gNMsmBWwQPLC6kAd7TddhLqKtKuzjFAScdJkjVdyTfrjLwuedSQFNMVkhBZ8F4bOp6zBqC7UMLIqcT3uOKAGvwi6lIGBE2G8mBTwJW+cK9VER9qNJAfJDs5yCgCVh11Lw2RHyxtD9kFVC/E2ZFADBxKWBehYkRRF1Zbb7OjNNHlT2pfuYKxL+mLOWpR0SDH3c53SF4Mq3gH1b5EElH3IF299Hq8AEPwnNBNEJzScwZlMAqDSwk4gk5VPY2zZF5FGZVK9J/b638rLNqghQmVQtAfkzfh/YsD7WRQCMo97zF6hD3QTegQevbp3we377L4noFTJZ8stu1sScCCfCibAsItfdrzXsAZsh9R9ZE0uK9khsdevcnzXbENyi/hzdADtZk3FwcHD45/gGXt0wm+DsVU8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMTEtMDRUMjI6Mzc6MjQrMDA6MDAxZtpbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTExLTA0VDIyOjM3OjI0KzAwOjAwQDti5wAAAABJRU5ErkJggg==\"","import React from 'react';\nimport postoryLogoNoText from './postory_logo_no_text.png'\nimport homeIcon from './home_icon.png'\nimport globeIcon from './globe_icon.png'\nimport menuIcon from './menu_icon.png'\nimport SearchBar from './SearchBar'\nimport {Snackbar} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\n\nimport { Link } from \"react-router-dom\";\n\nconst topBarColor = 'rgb(235, 235, 235)'\n\nconst topBarStyle = {\n    position: 'fixed',\n    width: '100%',\n    height: '50px',\n    backgroundColor: topBarColor\n}\n\nconst itemStyleLeft = {\n    float: 'left',\n    height: '100%',\n    marginLeft: '10px',\n    marginRight: '10px'\n}\n\nconst itemStyleRight = {\n    float: 'right',\n    height: '100%',\n    marginLeft: '10px',\n    marginRight: '10px'\n}\n\n// fits to parent div\nconst imageStyle = {\n    maxHeight: '100%',\n    maxWidth: '100%'\n}\n\n// style of 'POSTORY' text\nconst textStyle = {\n    margin: 0,\n    fontSize: '2.5em',\n    fontFamily: 'Bebas Neue',\n    color: '#ff914d'\n}\n\n\nclass TopBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n\n        this.state = {\n            popupState: false\n          }\n    }\n\n    showPopup = () => {\n        this.setState({ popupState: true });\n    };\n    \n      closePopup = () => {\n        this.setState({ popupState: false });\n    };\n\n    render() {\n        return (<div style={topBarStyle}>\n            <style>\n                @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap');\n            </style>\n\n            <div style={itemStyleLeft}>\n                <SearchBar />\n            </div>\n\n            <a href={'/'} style={itemStyleLeft}>\n                <img src={postoryLogoNoText} alt={'Postory'} style={imageStyle}/>\n            </a>\n            <a href={'/'} style={{...itemStyleLeft, textDecoration: 'none'}}>\n                <p style={textStyle}>POSTORY</p>\n            </a>\n            {/*<a href={'/'} style={itemStyleRight}>*/}\n            <div style={itemStyleRight}>\n                <img src={menuIcon} alt={'Menu'} style={imageStyle} onClick={this.showPopup} />\n            </div>\n            {/*</a>*/}\n            <Link class = \"push\" to= {`/discover`}>\n            <div style={itemStyleRight}>\n                <img src={globeIcon} alt={'Discover'} style={imageStyle}  />\n            </div>\n            </Link>\n            <Link to=\"/\" ariant = \"v6\">\n                <a href={'/'} style={itemStyleRight}>\n                    <img src={homeIcon} alt={'Postory'} style={imageStyle}/>\n                </a>\n            </Link>\n            <Snackbar open={this.state.popupState} autoHideDuration={3000} onClose={this.closePopup} >\n                    <Alert onClose={this.closePopup} severity=\"info\" sx={{ width: '100%' }}>\n                         This feature is not available now and coming soon, thanks heaps for your patience!\n                    </Alert>\n            </Snackbar>\n        </div>)\n\n    }\n}\n\nexport default TopBar","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAPUlEQVRo3u3VsQ0AIAwDsML/P8MHCKlDhtprlmRKFQDAXOuRnXS5n6473arLAIDZPHGaAQCzeeI0AwAAyLkgggMWE5+mSgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMS0wNFQxMTozMDozMiswMDowML1rvZMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTEtMDRUMTE6MzA6MzIrMDA6MDDMNgUvAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAADnklEQVRo3u2Zz0tVQRTHP1n5qzTUfohaWhSu2qSIJS2s/oVQW9amRe0iqUU+C1KqXaX+A24rMAtaCLUoiKQ2BQqSPwufWgtf+CTRFnMv3M6dO85979Z70fvCLObOd86cOfPjnnMGcsjh/8aWiOTkAU1AK9AA1APVwA5njATwBRgDRoER4C2wnmkDVAM9wAywEbLMOH1rMqF4BdAHJFNQXJZVoB/Y/beUbwcWIlBclkVH9h/DNsdSQQqsab49A55bct0yAGyPWvkiYChgwCngCnBXfF8GaoE61CH2tvUCncBsgMxhoDhKy+uU/wnEHGsVAfOi/YZHRky0zQEFQD5wO2BFnka1ErptMwE0ejgXRfs8UOJpLwHignPB094MTGrG6U9X+TaN0HH8V98ng/VddAnOB9F+wDGMHK8tVeUr8N82E0CV4B0VnBVgr0bePvzX7hHB2a9ZiQVHl9Dow7/nmzW8bsF7ZJD5WHCvajgt+M/Ew7DK16B+MF4hsQCu3D6mu7xDcN8E8G4J3ipqi1mjB/9ezHTpsVU+D5jOAoVlmQW22kygOQuUDSpNOmtLtNouVQZwymYCjaJ+CeXT68orwT1t4LrljOjz0sC9LLgNNhOoF/X3BouUifq0hRVnRL3cwJVj12OBJX7fd5UG7pzg7rKQX47/cAahSnAXbCYg7/9CA3dFcG2cr3zRZ8XALRTcpCTkkR420uwP5rh4U/10hISolxn6fxN1Gx9+5yYyTGMv20zgq6gfDDGBPRYTkLHvdwO3bhPdtBMYF/VjISZg469IzpKBK8ces5DPdTL/xw0qnTYrMGIzywzBSrdsdeamdAbXrcA6MJhpU2swSIhUpC6guRnA/Sh4HQa55wT3dQBPBjRJVBozFGQ2Yg04oeGFCSmfCK4upDyJP6S8H1Z5UPf1ohD0GRV4eyGD+iQqgJeoxL+qhwWnFv/5i2N2+Ixox3+YJvDf5TIu7tLIigmO9DTrHAPJ8c6mqryLAY3QSeC4hyMTW3Gg1NNeij9Fc97T3oL+5nuQrvKgPMxhjfA1VFqwAH1qsdsjQx5KN7VYCNxBn1ocQqU1I0FxwCRcf74TuCe+J1B+1CHgh2jrBa6hXm10MoeIMLnrXYmw6fUXTrHherdNZJbXoY0/88ARJ4IDa4sKVLoviiemJOqeT/mqTAfuI18qvtM06hII/Yf1Ispn1kZU3sb7zOpGXwnUYR8H3qG8ylGy4Jk1hxz+dfwCsHG7gYMjfesAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMTEtMDRUMTE6MzA6MDQrMDA6MDBQNI9KAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTExLTA0VDExOjMwOjA0KzAwOjAwIWk39gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAABDElEQVRo3u2XMQ4BQRhGHxGNRKvWuIAb6FyBQyhdQesOXEHnBi6gUW8r0WzBamYS2WB3dv7178r/ktfIkm8y5AUYhmH8Kx1gA2yBrvaYUPrAHsicO/daKxgAh5fx3iMw1B5XxAg4vRnvPblnGskYOH8Z770AE+2xeaZAUmK8N3HvaQQz4Bow3nsD5trjl0BaYbw3BRZa41fAPWK89wGsfzncByp2eN6fBC8fKGlrDd6nQElbS/CKAiWtaPDKBkpakeCFBkraqOBVDZS0lYIXGyhpg4InFShp3wavE3ArWeg1RlJqW+v+6tkBmkavhs8s+u6K/pZafwN2AG3sANrYAbSxA2hjBzAMwzAMTZ4cWmjLg6gRpgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMS0wNFQxMToyOToyNCswMDowMC+KfD0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTEtMDRUMTE6Mjk6MjQrMDA6MDBe18SBAAAAAElFTkSuQmCC\"","import React, { useEffect } from \"react\";\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker} from \"react-google-maps\";\nimport InfoBox from \"react-google-maps/lib/components/addons/InfoBox\";\nimport Icon from '@mdi/react'\nimport { mdiGestureTap } from '@mdi/js';\nimport { Link, Navigate} from \"react-router-dom\";\nimport * as requests from './requests'\n\nconst MyMapComponent = withScriptjs(withGoogleMap((props) =>{\n    const [markers, setMarkers] = React.useState([]);\n    const [posts, setPosts] = React.useState([]);\n    const [selectedPost, setSelectedPost] = React.useState(null);\n    const [currentLocation, setCurrentLocation] = React.useState({ lat: 41.048, lng: 29.0510 });\n    const [displayPost, setDisplayPost] = React.useState(false);\n    const [clickCount, setClickCount] = React.useState(0);\n    const [displayInfoBox, setDisplayInfoBox] = React.useState(false);\n\n\n    useEffect(() => {\n\n        //fetch('http://3.125.114.231:8000/api/post/all')\n        requests.get_jwt('/api/post/all/discover',{})\n            .then(response => response.json())\n            .then( (data) => {\n                setPosts(data);\n                const markerList = [];\n                for(let i = 0; i < data.length; i++) {\n                    console.log(data[i]);\n                    let id = data[i].id;\n                    for(let j = 0; j < data[i].locations.length; j++) {\n                        let lat = data[i].locations[j][1];\n                        let lng = data[i].locations[j][2];\n                        markerList.push({id: id, lat: lat, lng: lng});\n                    }\n                }\n                console.log(markerList);\n                setMarkers(markerList);\n            })\n    }, [])\n\n    useEffect(() => {\n        if (selectedPost != null){\n            setDisplayInfoBox(false);\n            setTimeout(() => {setDisplayInfoBox(true)}, 500);\n        }\n        console.log(\"Selected post has been changed\");\n    }, [clickCount])\n\n    const onClickMarker = (index, obj) =>{\n        setCurrentLocation({lat:obj.lat, lng:obj.lng});\n        setSelectedPost(() =>{\n            let newPost = null;\n            for(let i =0 ; i< posts.length; i++){\n                if(posts[i].id == markers[index].id){\n                    newPost = posts[i];\n                }\n            }\n            console.log(newPost);\n            setClickCount(clickCount + 1);\n            return newPost;\n        });       \n    }\n\n    const onClickInfoBox = () =>{\n        if (selectedPost != null){\n            setDisplayPost(false);\n            setTimeout(() => {setDisplayPost(true)}, 500);\n        }  \n    }\n\n    return( <GoogleMap\n                defaultZoom={6}\n                defaultCenter={{ lat: 41.048, lng: 29.0510 }}\n                >\n                {displayInfoBox && \n                <InfoBox\n                defaultPosition={{lat:currentLocation.lat, lng:currentLocation.lng}}\n                options={{ closeBoxURL: ``, enableEventPropagation: true }}\n                >\n                    <div style={{ backgroundColor: `white`, opacity: 1, padding: `12px` }} onClick = {() => onClickInfoBox()} >\n                        <div style={{ fontSize: `16px`, fontColor: `#08233B`, fontWeight: `bold` }}>\n                            {selectedPost.title}\n                        </div>\n                        <div style={{ fontSize: `12px`, fontColor: `#08233B`, fontStyle: `italic` }}>\n                            by: {selectedPost.username}\n                        </div>\n                        \n                        <div class= \"row2\" onClick = {() => props.redirect(selectedPost.id)}>\n                                <Icon \n                                    \n                                    path={mdiGestureTap} \n                                    size={1}\n                                />\n                                <div style={{ fontSize: `10px`, fontColor: `#C40303` }}>\n                                    Click here to be redirected to the post page.\n                                \n                                </div>\n                            \n                        </div>\n                    </div>\n                </InfoBox>\n                } \n                {markers.map((obj,i) => {\n                    return (<Marker onClick = {() => onClickMarker(i, obj)} position = {{lat:obj.lat, lng:obj.lng}} key = {i}/>);\n                })}\n            </GoogleMap>\n            );\n  }\n))\n\nclass DiscoverPage extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {selectedPost : null};\n    }\n\n    render(){\n        let key = process.env.REACT_APP_GOOGLE_API_KEY?(`key=` + process.env.REACT_APP_GOOGLE_API_KEY + \"&\") : \"\";\n        return(   \n        <div className=\"App\">\n        <header className=\"App-header\">\n          <MyMapComponent \n                    redirect = {(id) => this.setState({selectedPost : id})}\n                    isMarkerShown\n                    googleMapURL={`https://maps.googleapis.com/maps/api/js?${key}v=3.exp&libraries=geometry,drawing,places`}\n                    loadingElement={<div style={{ height: `100%` }} />}\n                    containerElement={<div style={{ height: window.innerHeight * 5/6, width: window.innerWidth }} />} //`600px`\n                    mapElement={<div style={{ height: `100%` }} />}\n                />\n        </header>\n        {this.state.selectedPost && <Navigate class = \"push\" to= {`/viewPost?id=${this.state.selectedPost}`}> click here to see the full post</Navigate>}\n      </div>      \n        )\n    }\n}\nexport default DiscoverPage;","import React from 'react';\nimport Icon from '@mdi/react'\nimport {createHash} from 'crypto'\nimport './SignIn.css'\nimport jwt_decode from \"jwt-decode\";\nimport {Link, Navigate} from \"react-router-dom\";\nimport * as requests from './requests'\n\nfunction isEmail(str) {\n    return /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test(str)\n}\n\nconst BACKEND_URL = 'http://' + '3.125.114.231' + ':8000'\n\nclass SignIn extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: null,\n            email: null,\n            password: null,\n            incorrect: false,\n            completed: false,\n            redirect: false\n        }\n        this.handleButtonClick = this.handleButtonClick.bind(this)\n    }\n\n    handleButtonClick(e) {\n        if (e.target.disabled) return;\n\n        /*fetch(`${BACKEND_URL}/auth/jwt/create/`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password\n            })\n        })*/\n        requests.post_jwt(`/auth/jwt/create/`,{\n            email: this.state.email,\n            password: this.state.password\n        }).then(\n            res => {\n                if (Math.floor(res.status / 100) === 2) {\n                    res.json().then(\n                        data => {\n                            const {refresh, access} = data\n                            localStorage.setItem('refresh', refresh)\n                            localStorage.setItem('access', access)\n                        }\n                    ).then(\n                        () => this.setState(state => ({...state, completed: true}))\n                    )\n                } else {\n                    this.setState(state => ({...state, incorrect: true}))\n                }\n            }\n        )\n    }\n\n    render() {\n        if (this.state.completed) {\n\n            var decoded = jwt_decode(localStorage.getItem('access'));\n            localStorage.setItem('userID', decoded.user_id)\n\n            setTimeout(() => this.setState(state => ({...state, redirect: true})), 2000)\n\n            return <header className={'App-header'}>\n                <div id={'signin'}>\n                    <span>Sign in success.</span>\n                    <br />\n                    <span>Redirecting to homepage..</span>\n                    {this.state.redirect && <Navigate to={'/'} />}\n                </div>\n            </header>\n        }\n\n        return (\n            <header className={'App-header'}>\n                <div id={'signin'}>\n                    <label htmlFor={'signin-username'} id={'signin-username-text'}>Username or E-mail: </label>\n                    <br />\n                    <input type={'text'} id={'signin-username'} onChange={\n                        e => {\n                            let str = e.target.value;\n                            if (isEmail(str)) {\n                                this.setState(state => ({...state, email: str}))\n                            } else {\n                                this.setState(state => ({...state, username: str}));\n                            }\n\n                        }\n                    }/>\n                    <br />\n                    <label htmlFor={'signin-password'} id={'signin-password-text'}>Password: </label>\n                    <br />\n                    <input type={'password'} id={'signin-password'} onChange={\n                        e => {\n                            this.setState(state => ({...state, password: e.target.value}))\n                        }\n                    }/>\n                    <br />\n                    { this.state.incorrect && <>\n                    <span id={'signin-incorrect-text'} style={{fontSize: '50%'}}>\n                        Incorrect username or password\n                    </span>\n                        <br />\n                    </>}\n                    <button id={'signin-button'} disabled={(!(this.state.username || this.state.email) || !this.state.password) ? 'true' : ''} onClick={this.handleButtonClick}>\n                        Sign In\n                    </button>\n                    <br />\n\n                    <Link to={'/forgotPassword'} id={'signin-forgot-link'} variant={'v6'}>\n                        Forgot password?\n                    </Link>\n                    <br />\n                    <Link to={'/signUp'} id={'signin-signup-link'} variant={'v6'}>\n                        Sign Up\n                    </Link>\n                </div>\n            </header>\n\n            )\n    }\n}\n\nexport default SignIn;","import React from 'react';\nimport Icon from '@mdi/react'\nimport {createHash} from 'crypto'\nimport './SignUp.css'\nimport {Link, Navigate} from \"react-router-dom\";\nimport * as requests from './requests';\n\nconst BACKEND_URL = 'http://' + '3.67.83.253' + ':8000'\n\nfunction isEmail(str) {\n    return /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test(str)\n}\n\nfunction getUsernameProblem(username) {\n    if (username.length < 6) {\n        return \"Username should be 6 characters or longer\";\n    } else if (! /^[a-zA-Z0-9\\s]+$/.test(username)) {\n        return \"Username should only contain alphanumerical characters and whitespace\"\n    }\n    return \"\"\n}\n\nfunction getPasswordProblem(password) {\n    if (password.length < 8) {\n        return \"Password should be 8 characters or longer\"\n    } else if(! /[a-z]/.test(password)) {\n        return \"Password should contain a lowercase letter\"\n    } else if (! /[A-Z]/.test(password)) {\n        return \"Password should contain an uppercase letter\"\n    } else if (! /[0-9]/.test(password)) {\n        return \"Password should contain a number\"\n    } else if (/^[a-zA-Z0-9]+$/.test(password)) {\n        return \"Password should contain a special character\"\n    }\n    return \"\"\n}\n\nclass SignUp extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: null,\n            name: null,\n            surname: null,\n            email: null,\n            password1: null,\n            password2: null,\n            status: 'before',   // 'before', 'success', 'fail'\n            redirect: false\n        }\n        this.handleButtonClick = this.handleButtonClick.bind(this)\n    }\n\n    handleButtonClick(e) {\n        if (e.target.disabled) return;\n\n        /*fetch(`${BACKEND_URL}/auth/users/`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: this.state.email,\n                name: this.state.name,\n                surname: this.state.surname,\n                username: this.state.username,\n                password: this.state.password1,\n                re_password: this.state.password2\n            })\n        })*/\n        requests.post('/auth/users/', {\n            email: this.state.email,\n            name: this.state.name,\n            surname: this.state.surname,\n            username: this.state.username,\n            password: this.state.password1,\n            re_password: this.state.password2\n        })\n        .then(\n            res => {\n                if (Math.floor(res.status / 100) === 2) {\n                    // Account successfully created\n                    this.setState(state => ({...state, status: 'success'}))\n                } else {\n                    // A user with the same e-mail already exists\n                    this.setState(state => ({...state, status: 'fail'}))\n                }\n            }\n        )\n    }\n\n    render() {\n        if (this.state.status === 'success') {\n            setTimeout(() => this.setState(state => ({...state, redirect: true})), 2000)\n            localStorage.removeItem('access')\n            localStorage.removeItem('refresh')\n\n            return <header className={'App-header'}>\n                <div id={'signup'}>\n                    <span>Account created successfully.</span>\n                    <br />\n                    <span>Check your inbox to activate your account.</span>\n                    <br />\n                    <span>Redirecting to sing in page.</span>\n                    {this.state.redirect && <Navigate to={'/signIn'} />}\n                </div>\n            </header>\n        }\n\n        if (this.state.success === 'fail') {\n            return <header className={'App-header'}>\n                <div id={'signup'}>\n                    <span>This user already exists!</span>\n                    <br />\n                    <span id={'signup-goback-link'} onClick={\n                        e => this.setState(state => ({...state, status: 'before'}))\n                    }>Go back</span>\n                </div>\n            </header>\n        }\n\n        return (<header className={'App-header'}>\n            <div id={'signup'}>\n                <label htmlFor={'signup-email'} id={'signup-email-text'}>E-mail: </label>\n                <br />\n                <input type={'text'} id={'signup-email'} onChange={\n                    e => {\n                        this.setState(state => ({...state, email: e.target.value}))\n                    }\n                }/>\n                <br />\n                { this.state.email && !isEmail(this.state.email) &&\n                <>\n                    <span id={'signup-email-problem-text'}> Please enter a vaild e-mail</span>\n                    <br />\n                </>\n                }\n                <label htmlFor={'signup-username'} id={'signup-username-text'}>Username: </label>\n                <br />\n                <input type={'text'} id={'signup-username'} onChange={\n                    e => {\n                        this.setState(state => ({...state, username: e.target.value}));\n                    }\n                }/>\n                <br />\n                { this.state.username && getUsernameProblem(this.state.username) &&\n                <>\n                    <span id={'signup-username-problem-text'}>{getUsernameProblem(this.state.username)}</span>\n                    <br />\n                </>\n                }\n                <label htmlFor={'signup-name'} id={'signup-name-text'}>Name: </label>\n                <br />\n                <input type={'text'} id={'signup-name'} onChange={\n                    e => {\n                        this.setState(state => ({...state, name: e.target.value}));\n                    }\n                }/>\n                <br />\n                <label htmlFor={'signup-surname'} id={'signup-surname-text'}>Surname: </label>\n                <br />\n                <input type={'text'} id={'signup-surname'} onChange={\n                    e => {\n                        this.setState(state => ({...state, surname: e.target.value}));\n                    }\n                }/>\n                <br />\n                <label htmlFor={'signup-password1'} id={'signup-password1-text'}>Password: </label>\n                <br />\n                <input type={'password'} id={'signup-password1'} onChange={\n                    e => {\n                        this.setState(state => ({...state, password1: e.target.value}))\n                    }\n                }/>\n                <br />\n                { this.state.password1 && getPasswordProblem(this.state.password1) &&\n                <>\n                    <span id={'signup-password1-problem-text'}>{getPasswordProblem(this.state.password1)}</span>\n                    <br />\n                </>\n                }\n                <label htmlFor={'signup-password2'} id={'signup-password2-text'}>Repeat password: </label>\n                <br />\n                <input type={'password'} id={'signup-password2'} onChange={\n                    e => {\n                        this.setState(state => ({...state, password2: e.target.value}))\n                    }\n                }/>\n                <br />\n                { this.state.password2 && this.state.password1 !== this.state.password2 &&\n                <>\n                    <span id={'signup-password2-problem-text'}>Passwords don't match</span>\n                    <br />\n                </>\n                }\n                <button\n                    id={'signup-button'}\n                    disabled={(!this.state.email || !this.state.username || !this.state.name || !this.state.surname || !this.state.password1 || !this.state.password2 || !isEmail(this.state.email) || getUsernameProblem(this.state.username) || getPasswordProblem(this.state.password1) || (this.state.password1 !== this.state.password2)) ? 'true' : ''}\n                    onClick={this.handleButtonClick}>\n                    Sign Up\n                </button>\n                <br />\n                <Link to={'/signIn'} id={'signup-signin-link'} variant={'v6'}>\n                    Sign in instead\n                </Link>\n            </div>\n        </header>)\n    }\n}\n\nexport default SignUp;","import React from 'react';\nimport Post from './Post';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from 'react-responsive-carousel';\nimport {mdiSend } from '@mdi/js';\nimport Icon from '@mdi/react';\nimport { TextField } from '@material-ui/core';\nimport * as requests from './requests'\nimport { mdiArrowLeftThick, mdiArrowRightThick } from '@mdi/js';\n\n\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\n\n\n\n\nclass ViewPost extends React.Component{\n    constructor(props){\n        super(props);\n        let dummyPost = {story : \"Praesent eu libero et diam mollis placerat sed eget eros. Curabitur commodo purus in lorem fermentum, a suscipit tellus faucibus. Morbi justo nibh, iaculis sed porttitor id, faucibus in lorem. Aenean porttitor imperdiet velit id laoreet. Mauris tortor urna, fermentum eu eros vel, vestibulum malesuada mi. Vivamus venenatis magna nec eleifend hendrerit. Morbi lacinia ligula a quam varius, ac pretium libero semper. Fusce ultrices arcu ut augue sodales vehicula. Fusce pellentesque urna vel arcu facilisis, sed consectetur enim mollis. Nam suscipit euismod elit, ac cursus ex tempor eget. Curabitur aliquet ante orci, at vestibulum leo finibus vel. Praesent ullamcorper pharetra rhoncus. Vestibulum euismod nulla in ligula bibendum aliquam. Curabitur nec varius ligula. Duis feugiat mi risus, eget auctor lacus scelerisque sit amet.\",\n        owner : \"Daniel Jones\", locations: [\"The World\", \"Ankara\"], storyDate: \"2021\", tags: [\"Cool\"] };\n\n        //TODO: change this?\n        const regex = /id=/g;\n        const url = window.location.href;\n        const idx = url.search(regex);\n        const id = parseInt(url.slice(idx+3));\n\n        this.state = {\n            id: id,\n            api_key: \"\"\n        }\n        if(process.env.REACT_APP_GOOGLE_API_KEY != undefined)\n            this.state = {\n                id: id,\n                api_key: `key=` + process.env.REACT_APP_GOOGLE_API_KEY + \"&\"\n            }\n        requests.get_jwt(`/api/post/get/${this.state.id}`, {}).then(resp => resp.json()).then(\n                data => {\n                    this.setState(state=>{return {\n                        ...state,\n                        post: data\n                    }});\n                }\n            );\n    }\n\n    componentDidMount(){\n        \n    }\n\n    render(){\n        return(<div className=\"App App-header\">\n            <div style={{ height: window.innerHeight * 1/20, width: window.innerWidth }}/>\n        <div class = \"row2\">\n            <div>\n                {this.state.post && <Post {...this.state.post} />}\n                {this.state.post && <CommentContainer id = {this.state.id} comments = {this.state.post.comments}/>}\n            </div>\n            <div>\n                {this.state.post &&\n                <MapComponent \n                isMarkerShown\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?${this.state.api_key}v=3.exp&libraries=geometry,drawing,places`}\n                loadingElement={<div style={{ height: `100%` }} />}\n                containerElement={<div style={{ width: `500px`, height: `300px` }} />}\n                mapElement={<div style={{ height: `100%` }} />}\n                markers = \n                {this.state.post.locations.map((obj,i) => {return {name: obj[0], lat: obj[1], lng: obj[2]} })}\n                />}\n                \n                {/*this.state.post &&\n                <Carousel>\n                {this.state.post.images.map((obj,i) => {\n                    return(\n                    <div>\n                    <img class = \"viewPostPicture\" src={obj} />\n                    </div>);\n                })}\n            </Carousel>*/}\n                {this.state.post && this.state.post.images && this.state.post.images.length > 0\n                && <SliderComponent images = {this.state.post.images}/>}\n                \n                \n            </div>\n        </div>\n        </div>)\n    }\n\n}\n\nclass Comment extends React.Component{\n    constructor(props){\n        super(props);\n        //get profile pic from the backend using username\n        this.state = {\n            userName: props.info[1],\n            userProfilePic: \"\",\n            text: props.info[2]\n        };\n    }\n    render(){\n        return(<div class = \"Comment\">\n            <div class= \"row2\">\n                <img class = \"circle\" width = \"50px\" height = \"50px\" src = \"./static/media/postory_logo_no_text.ec3bad21.png\" />\n                <a style = {{margin: \"10px\"}}>{this.state.userName}</a>\n            </div>\n            <a class = \"mainContent\">{this.state.text}</a>\n            </div>\n        )\n    }\n\n}\n\nclass CommentContainer extends React.Component{\n    constructor(props){\n        super(props);\n        //get all comments of post from backend\n        this.props = props;\n        this.state = {\n            \n            comments: props.comments,\n            currentUserName : 'Me'\n        };\n        \n        this.textChange = this.textChange.bind(this);\n        this.sendComment = this.sendComment.bind(this);\n    }\n\n    textChange(e){\n        this.setState(st => {\n            return {\n                ...st,\n                text: e.target.value\n            }\n        });\n    }\n\n    sendComment(){\n        this.setState(state => {\n            return {\n                ...state,\n                comments: state.comments.concat([[\"x\", \"Me\", state.text]])\n            };\n\n        });\n\n        requests.post_jwt(`/api/post/comment/${this.props.id}`, {comment: this.state.text});\n        console.log(`Send ${this.state.text} to backend`);\n    }\n\n    render(){\n        return (\n        <div class = \"CommentContainer\"> \n            {this.state.comments.map( \n                (obj,i) => {return (<Comment info = {obj} key = {i} ></Comment>);}\n                )}\n            <div class = \"row2\">\n                <textarea style = {{width: 400}} type = \"text\" onChange = {this.textChange} ></textarea>\n                <Icon onClick = {this.sendComment} path={mdiSend}\n                        title=\"Post\"\n                        size={1}\n                        color=\"black\"\n                    />\n            </div>\n        </div>);\n    }\n}\n\n\nconst SliderComponent = (props ) => {\n    const [curIdx, setCurIdx] = React.useState(0);\n    return(\n    <div className = \"sliderContainer\">\n        <Icon className = \"sliderLeft\" onClick = {() =>{\n            setCurIdx((idx)=> {\n                idx = idx-1;\n                if(idx<0)\n                    idx += props.images.length;\n                return idx;\n            });\n        }\n                } path={mdiArrowLeftThick }\n                        title=\"Post\"\n                        size={2}\n                        color=\"black\"\n                    />\n        <Icon className = \"sliderRight\" onClick = {() =>{\n            setCurIdx((idx)=> {\n                idx = idx+1;\n                idx %= props.images.length;\n                return idx;\n            });\n        }\n                } path={mdiArrowRightThick }\n                        title=\"Post\"\n                        size={2}\n                        color=\"black\"\n                    />\n        {props.images.length > 0 && <img src = {props.images[curIdx]}></img>}\n    </div>);\n}\n\n\n\nconst MapComponent = withScriptjs(withGoogleMap((props) =>{\n\nreturn(<div>\n<GoogleMap\n        \n        defaultZoom={0}\n        defaultCenter={{ lat: 41, lng: 28 }}>\n        {props.markers.map((obj,i) => {\n            return (<Marker  position = {obj} options={{icon:`https://mt.google.com/vt/icon/text=${obj['name'] + '(' + (i+1) + ')'}&psize=16&font=fonts/arialuni_t.ttf&color=ff330000&name=icons/spotlight/spotlight-waypoint-b.png&ax=44&ay=48&scale=1`}} key = {i}/>);\n        })}\n    </GoogleMap>\n    </div>);\n  }\n))\n\n\nexport default ViewPost;","import React from 'react'\nimport { Link } from \"react-router-dom\";\nimport './ForgotPassword.css'\n\nfunction isEmail(str) {\n    return /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/.test(str)\n}\n\nconst BACKEND_URL = 'http://' + window.location.hostname + ':8000'\n\nclass ForgotPassword extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: null,\n            password: null,\n            incorrect: false,\n            success: false\n        }\n        this.handleButtonClick = this.handleButtonClick.bind(this)\n    }\n\n    handleButtonClick(e) {\n        if (e.target.disabled) return;\n\n        fetch(`${BACKEND_URL}/auth/users/reset_password/`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: this.state.email,\n            })\n        }).then(\n            res => {\n                if (Math.floor(res.status / 100) === 2) {\n                    this.setState(state => ({...state, success: true}))\n                }\n            }\n        )\n    }\n\n    render() {\n        if (this.state.success) {\n            return <header className={'App-header'}>\n                <div id={'forgot'}>\n                    <span>Reset e-mail sent successfully.</span>\n                    <br />\n                    <span>Check your inbox to reset your password</span>\n                    <br />\n                    <Link to={'/signIn'} id={'forgot-link'} variant={'v6'}>\n                        Go back\n                    </Link>\n                </div>\n            </header>\n        }\n\n        return <header className={'App-header'}>\n            <div id={'forgot'}>\n                <label htmlFor={'forgot-email'} id={'forgot-email-text'}>\n                    E-mail of your account\n                </label>\n                <br />\n                <input type={'text'} id={'forgot-email'} value={this.state.email} onChange={\n                    e => {\n                        this.setState(state => ({...state, email: e.target.value}))\n                    }\n                }/>\n                <br />\n                {\n                    this.state.email && !isEmail(this.state.email) && <>\n                        <span style={{fontSize: '50%'}}> Please enter a valid e-mail </span>\n                        <br />\n                    </>\n                }\n                {\n                    this.state.email && !isEmail(this.state.email) && <>\n                        <span style={{fontSize: '50%'}}> Please enter a valid e-mail </span>\n                        <br />\n                    </>\n                }\n                <button id={'forgot-button'} disabled={!isEmail(this.state.email) ? 'true' : ''} onClick={this.handleButtonClick}>\n                    Send e-mail\n                </button>\n                <br />\n                <Link to={'/signIn'} id={'forgot-link'} variant={'v6'}>\n                    Go back\n                </Link>\n                <br />\n            </div>\n        </header>\n    }\n}\n\nexport default ForgotPassword","import React from 'react'\nimport './ForgotPasswordConfirm.css'\nimport {Link, Navigate} from \"react-router-dom\";\n\nconst BACKEND_URL = 'http://' + window.location.hostname + ':8000'\n\nclass ForgotPasswordConfirm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props\n        this.state = {\n            password1: null,\n            password2: null,\n            uid: this.props.match.params.uid,\n            token: this.props.match.params.token,\n        }\n        this.handleButtonClick = this.handleButtonClick.bind(this)\n\n    }\n\n    handleButtonClick(e) {\n        if (e.target.disabled) return;\n\n        fetch(`${BACKEND_URL}/auth/users/password_reset_confirm/`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                uid: this.state.uid,\n                token: this.state.token,\n                new_password: this.state.password1,\n                re_new_password: this.state.password2\n            })\n        }).then(\n            res => {\n                this.setState(state => ({...state, success: true}))\n                setTimeout(() => this.setState(state => ({...state, redirect: true})))\n            }\n        )\n    }\n\n    render() {\n        if (this.state.success) {\n            return <header className={'App-header'}>\n                <div id={'fpc'}>\n                    <span>Password reset successfully</span>\n                    <br />\n                    <span>You are now being redirected to homepage</span>\n                    <br />\n                    <span>Don't forget to sign in with your new password</span>\n                    {this.state.redirect && <Navigate to={'/'} />}\n                </div>\n            </header>\n        }\n\n        return <header className={'App-header'}>\n            <div id={'fpc'}>\n                <label htmlFor={'fpc-new-password1'} id={'fpc-new-password1-text'}>\n                    Enter your new password\n                </label>\n                <br />\n                <input type={'password'} id={'fpc-new-password1'} onChange={\n                    e => this.setState(state => ({...state, password1: e.target.value}))\n                }/>\n                <br />\n                <label htmlFor={'fpc-new-password2'} id={'fpc-new-password2-text'}>\n                    Retype your new password\n                </label>\n                <br />\n\n                <input type={'password'} id={'fpc-new-password2'} onChange={\n                    e => this.setState(state => ({...state, password2: e.target.value}))\n                }/>\n                <br />\n                <button id={'fpc-button'} disabled={(!this.state.password1 || !this.state.password2) ? 'true' : ''} onClick={this.handleButtonClick}>\n                    Change password\n                </button>\n            </div>\n        </header>\n    }\n}\n\nexport default ForgotPasswordConfirm;","import React from 'react'\nimport './Activation.css'\nimport {Link, Navigate} from \"react-router-dom\";\nimport { useParams } from 'react-router-dom'\nimport TopBar from './TopBar'\n\nconst BACKEND_URL = 'http://' + window.location.hostname + ':8000'\n\nclass Activation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props\n        this.state = {\n            activationCompleted: false,\n            redirect: false\n        }\n    }\n\n    componentDidMount() {\n        const pathname = window.location.pathname\n        const [uid, token] = pathname.split('/').slice(2, 4)\n\n        fetch(`${BACKEND_URL}/auth/users/activation/`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                uid: uid,\n                token: token,\n            })\n        }).then(\n            res => {\n                this.setState(state => ({...state, activationCompleted: true}))\n                setTimeout(() => this.setState(state => ({...state, redirect: true})))\n            }\n        )\n    }\n\n    render() {\n        return <>\n            <TopBar />\n            <header className={'App-header'}>\n                <div id={'activation'}>\n                    {!this.state.activationCompleted ? 'Activating your account...' :\n                        <>\n                            <span> Your account has been activated.</span>\n                            <br />\n                            <span>Now you are being redirected to homepage</span>\n                            <br />\n                            <span>Don't forget to sign in with your new account</span>\n                            {this.state.redirect && <Navigate to={'/'} />}\n                        </>\n                    }\n                </div>\n            </header>\n        </>\n        return\n    }\n}\n\nexport default Activation;","import { mdiAccount } from '@mdi/js';\nimport Button from 'react-bootstrap/Button';\nimport Icon from '@mdi/react';\nimport React, { useEffect } from \"react\";\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Post from './Post';\nimport {Snackbar} from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\n\nconst BACKEND_IP = '3.67.83.253';\n\nexport const ProfilePageUpper = () => {\n    const [followingCount, setFollowingCount] = React.useState(0);\n    const [followerCount, setFollowerCount] = React.useState(0);\n    const [postCount, setPostCount] = React.useState(0);\n    const [userPosts, setUserPosts] = React.useState([]);\n    const [fetchedPosts, setFetchedPosts] = React.useState(false);\n    const [showFollowButton, setShowFollowButton] = React.useState(true);\n    const [userID, setUserID] = React.useState();\n    const [sessionUserID, setSessionUserID] = React.useState();\n    const [username, setUsername] = React.useState();\n    const [popupState, setPopupState] = React.useState(false);\n    const [photo, setPhoto] = React.useState(false);\n    const [profilePhoto, setProfilePhoto] = React.useState(false);\n\n    useEffect(() => {\n        fetch(`http://${BACKEND_IP}:8000/api/post/all/user/${userID}`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            }\n        }).then(response => response.json())\n            .then( (data) => {\n                data.sort((a, b) => parseInt(b.id) - parseInt(a.id));\n                setUserPosts(data);\n                setPostCount(data.length);\n                setFetchedPosts(true);\n                console.log(data);\n            })\n    }, [userID])\n\n    useEffect(() => {\n        fetch(`http://${BACKEND_IP}:8000/api/user/get/${userID}`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            }\n        }).then(response => response.json())\n            .then( (data) => {\n                setProfilePhoto(data.userPhoto);\n                setUsername(data.username);\n                setFollowingCount(data.followedUsers.length);\n                setFollowerCount(data.followerUsers.length);\n                for(let i =0 ; i< data.followerUsers.length; i++){\n                    if(data.followerUsers[i] == sessionUserID){\n                        setShowFollowButton(false);\n                    }\n                }\n                console.log(data);\n        })\n    }, [userID, showFollowButton])\n\n    useEffect(() => {\n        setUserID( () => {\n            var regex = /id=/g;\n            var url = window.location.href;\n            var idx = url.search(regex);\n            var id = parseInt(url.slice(idx+3));\n            //var decoded = jwt_decode(localStorage.getItem('access'));\n\n            console.log(\"ID: \" + id);\n            console.log(\"Decoded: \" + localStorage.getItem('userID'));\n            setSessionUserID(localStorage.getItem('userID'));\n            if (localStorage.getItem('userID') == id){\n                setShowFollowButton(false);\n            }\n            return id;\n        })\n    }, [])\n\n    const onClickFollow = () =>{\n        fetch(`http://${BACKEND_IP}:8000/api/user/follow/${userID}`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${localStorage.getItem('access')}`\n            },\n            body: JSON.stringify({})\n        }).then(setPopupState(true))\n\n    }\n\n    const closePopup = () => {\n        setPopupState(false);\n        setShowFollowButton(false);\n      };\n\n    return ( \n        <div style={{ backgroundColor: `#EBEBEB`}}>\n        <div style={{ height: window.innerHeight * 1/20, width: window.innerWidth }}/>\n        <hr style={{ color: `black`, backgroundColor: `black`, height: 2 }}/>\n        <Container>\n            <Row style={{alignItems: `center`}}>\n                <Col sm={4} >\n                    <div className = {'sliderContainer'} >\n                        \n                        <img onClick = {() => setPhoto(st => !st)} class = \"circle\" width = \"50px\" height = \"50px\" src = {profilePhoto? profilePhoto:\"./static/media/postory_logo_no_text.ec3bad21.png\"} />\n                        {photo  && (parseInt(localStorage.getItem('userID')) == userID) && <div className = {'ppup'}>\n                        <input onChange = {(e) => \n                        {\n                            let formData = new FormData();\n                            formData.append('image', e.target.files[0]);\n                            \n                            fetch(`http://${BACKEND_IP}:8000/api/user/addPhoto`, {\n                            method: 'POST',\n                            headers: {\n                                'Authorization': `JWT ${localStorage.getItem('access')}`\n                            },\n                            body: formData\n                                });\n                            setPhoto(st => !st);}\n                        }\n                            type=\"file\" id=\"file\" accept=\".jpg, .png\"/>\n                            </div>}\n                    </div>\n                    <div style={{ fontSize: `16px`, fontColor: `#08233B`, fontWeight: `bold` }}>{username}</div>\n                </Col>\n                <Col  sm={2}>\n                    <div style={{ fontSize: `16px`, fontColor: `#08233B` }}>followers: {followerCount}</div>\n                </Col>\n                <Col  sm={2}>\n                    <div style={{ fontSize: `16px`, fontColor: `#08233B` }}>followings: {followingCount}</div>\n                </Col>\n                <Col  sm={2}>  \n                    <div style={{ fontSize: `16px`, fontColor: `#08233B` }}>posts: {postCount}</div>\n                </Col>\n            </Row>\n            <div style={{ height: window.innerHeight * 1/50, width: window.innerWidth }}/>\n            {showFollowButton && <Button variant=\"secondary\" size=\"sm\" onClick={() => onClickFollow()} >Follow</Button>}\n        </Container>\n        <div className=\"App-header\">\n        {fetchedPosts && userPosts.map((obj, i) => {\n            return <Post key = {i} {...obj}></Post>;\n        })}\n        </div>\n        <Snackbar open={popupState} autoHideDuration={3000} onClose={() => closePopup()} >\n            <Alert onClose={() => closePopup()} severity=\"info\" sx={{ width: '100%' }}>\n              You have successfully followed {username}!\n            </Alert>\n        </Snackbar>\n        </div>\n    );\n}","\nimport React from \"react\";\nimport { Link, Navigate} from \"react-router-dom\";\nimport * as requests from './requests'\nclass Redirector extends React.Component{\n\n    constructor(props){\n        super(props);\n        let error = false;\n        this.state = {\n            hasJWT: !error && localStorage.getItem(\"access\")\n        }\n        // Redirect if not able to get all posts.\n        requests.get_jwt('/api/post/all',{}).\n        then(resp => \n            this.setState( {hasJWT: (resp.status==200) && localStorage.getItem(\"access\")})\n            ).catch(err => console.log(err));\n        \n    }\n\n    render(){\n\n        return (<div>{!this.state.hasJWT && <Navigate class = \"push\" to= {`/signIn`}> </Navigate>}</div>);\n    }\n}\n\nexport default Redirector;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport CreatePost from './CreatePost';\nimport EditPost from './EditPost';\nimport reportWebVitals from './reportWebVitals';\nimport TopBar from './TopBar';\nimport DiscoverPage from './DiscoverPage';\nimport SignIn from \"./SignIn\";\nimport SignUp from \"./SignUp\";\nimport ViewPost from './ViewPost';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  HashRouter,\n  Routes,\n  Route\n} from \"react-router-dom\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport ForgotPasswordConfirm from \"./ForgotPasswordConfirm\";\nimport Activation from \"./Activation\";\nimport { ProfilePageUpper } from './ProfilePage';\nimport Redirector from \"./Redirector\";\n\nReactDOM.render(\n  <HashRouter>\n    <Routes>\n    <Route path=\"/\" element={<div><Redirector/><TopBar/> <App /></div>} />\n    <Route path=\"/createPost\" element={<div><Redirector/><TopBar/> <CreatePost /></div>} />\n    <Route path=\"/editPost\" element={<div><Redirector/><TopBar/> <EditPost /></div>} />\n    <Route path=\"/discover\" element={<div><Redirector/><TopBar/> <DiscoverPage /></div>} />\n    <Route path=\"/signIn\" element={<div><TopBar /><SignIn /></div>} />\n    <Route path=\"/signUp\" element={<div><TopBar /><SignUp /></div>} />\n    <Route path=\"/forgotPassword\" element={<div><TopBar /><ForgotPassword /></div>} />\n    <Route path=\"/password/reset/confirm/:uid/:token\" element={<div><TopBar /><ForgotPasswordConfirm /></div>} />\n    <Route path=\"/activate/:uid/:token\" element={<div><TopBar /><Activation /></div>} />\n    <Route path=\"/viewPost\" element={<div><TopBar/> <ViewPost /></div>} />\n    <Route path=\"/profilePage\" element={<div><TopBar/> <ProfilePageUpper /></div>} />\n    <Route path=\"/viewPost\" element={<div><Redirector/><TopBar/> <ViewPost /></div>} />\n    </Routes>\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n/*\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n*/\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}