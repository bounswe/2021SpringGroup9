<body>
    <p id='joke'>

    </p>
    
    <ol id="list">
    
    </ol>
</body>

<script type='text/javascript'>

    fetch("/api/joke/animal",{method:'get'}).then(response => {
        return response.json()
    }).then(data => {
        
            document.getElementById("joke").innerHTML+='<p>Joke of the Day: '+data["joke"]  +'</p>'
            
        
       
    }) 
    fetch("/api/story",{method:'get'}).then(response => {
        return response.json()
    }).then(data => {
        for(i=0; i<data.length; i++) {
            document.getElementById("list").innerHTML+='<li><button onclick=\'clicked("'+data[i]['id']+'")\'>'+data[i]['title']+'</button></li>'
        }
    })
    
    function clicked(storyID) {
        storyUrl="/api/view/"+storyID
        location.href=storyUrl
    }
       
</script>